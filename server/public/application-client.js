!function(e){function t(t){for(var n,u,o=t[0],i=t[1],c=t[2],s=0,f=[];s<o.length;s++)u=o[s],r[u]&&f.push(r[u][0]),r[u]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(d&&d(t);f.length;)f.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,o=1;o<a.length;o++){var i=a[o];0!==r[i]&&(n=!1)}n&&(l.splice(t--,1),e=u(u.s=a[0]))}return e}var n={},r={1:0};var l=[];function u(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,u),a.l=!0,a.exports}u.m=e,u.c=n,u.d=function(e,t,a){u.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},u.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=i;l.push([377,0]),a()}(Array(19).concat([function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.Component,a=e.actionCreators;return(a=Array.isArray(a)?a:[a]).unshift(f.auth),function(e){function n(){return(0,u.default)(this,n),(0,c.default)(this,(0,d.default)(n).apply(this,arguments))}return(0,i.default)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.location,a=e.location;(t.pathname!==a.pathname||t.search!==a.search)&&this._fetchDataOnClient()}},{key:"componentDidMount",value:function(){if(!m)return this._fetchDataOnClient();m=!1}},{key:"_fetchDataOnClient",value:function(){var e=this.props.match.params;n.fetchData({dispatch:this.props.dispatch,params:e})}},{key:"render",value:function(){return s.default.createElement(t,this.props)}}],[{key:"fetchData",value:function(e){var t=e.dispatch,n=e.params,r=void 0===n?{}:n,u=(e.query,e.jwt);return l.default.all(a.map(function(e){return t(e(r,u))}))}}]),(0,o.default)(n,e),n}(s.default.Component)};var l=r(a(157)),u=r(a(18)),o=r(a(17)),i=r(a(16)),c=r(a(15)),d=r(a(14)),s=r(a(0)),f=n(a(35)),m=!0},,,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NavSecondary=void 0;var r=n(a(18)),l=n(a(17)),u=n(a(16)),o=n(a(15)),i=n(a(14)),c=n(a(20)),d=n(a(0));a(411);var s=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,o.default)(this,(0,i.default)(t).call(this,e))).state={isStuck:!1},a.handleIntersection=a.handleIntersection.bind((0,c.default)((0,c.default)(a))),a}return(0,u.default)(t,[{key:"componentDidMount",value:function(){this.observeIntersection()}},{key:"componentWillUnmount",value:function(){this.unobserveIntersection()}},{key:"handleIntersection",value:function(e){var t=0===e[0].intersectionRatio;this.setState(function(e){return{isStuck:t}})}},{key:"observeIntersection",value:function(){if(window.IntersectionObserver){var e=this.wrapper;if(e){var t=document.createElement("div");t.classList.add("".concat("nav-secondary","__sentinel")),e.insertBefore(t,e.firstChild),this.observer=new IntersectionObserver(this.handleIntersection),this.observer.observe(t)}}}},{key:"unobserveIntersection",value:function(){window.IntersectionObserver&&this.observer.disconnect()}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.children,r=this.state.isStuck,l=["".concat("nav-secondary","__sticky")];return r&&l.push("".concat(l[0],"--is-stuck")),d.default.createElement("header",{className:"nav-secondary",ref:function(t){return e.wrapper=t}},d.default.createElement("div",{className:l.join(" ")},a&&d.default.createElement("h2",{className:"".concat("nav-secondary","__title")},a),n&&d.default.createElement("div",{className:"".concat("nav-secondary","__actions")},n)))}}]),(0,l.default)(t,e),t}(d.default.PureComponent);t.NavSecondary=s;var f=s;t.default=f},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Button=m,t.BtnIcon=function(e){var t,a=e.className,n=e.svgId,i=e.secondary,p=e.linkAlike,h=e.danger,g=e.label,E=(0,u.default)(e,["className","svgId","secondary","linkAlike","danger","label"]),y=(0,d.default)(a,(t={},(0,l.default)(t,v,!0),(0,l.default)(t,"".concat(v,"-secondary"),i),(0,l.default)(t,"".concat(v,"-link"),p),(0,l.default)(t,"".concat(v,"-danger"),h),(0,l.default)(t,"".concat(v,"--icon"),a),t));return o.default.createElement(m,(0,r.default)({className:y},E),o.default.createElement(s.default,{svgId:n}),g&&o.default.createElement("span",{className:"".concat(f,"__notice")},o.default.createElement(c.FormattedMessage,{id:g})))};var r=n(a(21)),l=n(a(42)),u=n(a(13)),o=n(a(0)),i=a(12),c=a(3),d=n(a(40)),s=n(a(70));a(417);var f="button";function m(e){var t,a=e.className,n=e.to,c=e.secondary,s=e.linkAlike,m=e.danger,v=(0,u.default)(e,["className","to","secondary","linkAlike","danger"]),p=(0,d.default)(a,(t={},(0,l.default)(t,f,!0),(0,l.default)(t,"".concat(f,"--link"),s),(0,l.default)(t,"".concat(f,"--secondary"),c),(0,l.default)(t,"".concat(f,"--danger"),m),t));return n?o.default.createElement(i.Link,(0,r.default)({to:n,className:p},v),e.children):o.default.createElement("button",(0,r.default)({className:p},v),e.children)}var v="".concat(f,"--icon")},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.meta;switch(a){case m.SUCCESS:case h.SUCCESS:return(e=e.set("active",n.rows)).set("meta.active",n.meta);case v.SUCCESS:return(e=e.set("archived",n.rows)).set("meta.archived",n.meta);case p.SUCCESS:return(e=e.set("readyToInvoice",n.rows)).set("meta.readyToInvoice",n.meta);case m.LOADING:case v.LOADING:case p.LOADING:case h.LOADING:case g.LOADING:return e.set("current",C);case E.LOADING:case y.LOADING:case b.LOADING:return e.set("isSaving",!0);case E.DONE:case y.DONE:case b.DONE:return e.set("isSaving",!1);case g.SUCCESS:case E.SUCCESS:return e.set("current",n);case y.SUCCESS:var l=r.id,u=function(e){return e.id!==l},o=e.get("active").filter(u),i=e.get("readyToInvoice").filter(u),c=e.set("active",o).set("readyToInvoice",i).set("current",n);return c;case b.SUCCESS:var d=r.id,s=e.get("readyToInvoice").findIndex(function(e){return e.id===d}),f=s<0?e:e.set("readyToInvoice[".concat(s,"]"),n);return f.set("current",n);default:return e}},t.createInvoice=t.archiveOne=t.saveOne=t.getOne=t.listForCustomer=t.listReadyToInvoice=t.listArchived=t.listActive=t.LOADING=t.CREATE_INVOICE=t.ARCHIVE_QUOTE=t.SAVE_ONE=t.GET_ONE=t.LIST_FOR_CUSTOMER=t.LIST_GET_READY_INVOICE=t.LIST_ARCHIVED=t.LIST_ACTIVE=void 0;var r=n(a(13)),l=n(a(50)),u=n(a(36)),o=n(a(49)),i=n(a(22)),c=n(a(57)),d=n(a(71)),s=n(a(84)),f="quotations",m=(0,d.default)(f,"get","list-active");t.LIST_ACTIVE=m;var v=(0,d.default)(f,"get","list-archived");t.LIST_ARCHIVED=v;var p=(0,d.default)(f,"get","list-ready-to-invoice");t.LIST_GET_READY_INVOICE=p;var h=(0,d.default)(f,"get","list-for-customer");t.LIST_FOR_CUSTOMER=h;var g=(0,d.default)(f,"get","one");t.GET_ONE=g;var E=(0,d.default)(f,"post","one");t.SAVE_ONE=E;var y=(0,d.default)(f,"post","archive");t.ARCHIVE_QUOTE=y;var b=(0,d.default)(f,"post","convert");t.CREATE_INVOICE=b;var C=(0,i.default)({isLoading:!0,reference:"loadingâ€¦",products:[]});t.LOADING=C;var _=(0,i.default)({isSaving:!1,meta:{active:{},archived:{},readyToInvoice:{}},active:[],archived:[],readyToInvoice:[],current:C});t.listActive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a=(0,o.default)(l.default.mark(function a(n){var r;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=(0,u.default)({url:"".concat(f)},e),a.next=3,(0,s.default)({dispatch:n,actions:m,fetch:{options:r,cookie:t}});case 3:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.listArchived=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a=(0,o.default)(l.default.mark(function a(n){var r;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=(0,u.default)({url:"".concat(f,"/archived")},e),a.next=3,(0,s.default)({dispatch:n,actions:v,fetch:{options:r,cookie:t}});case 3:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.listReadyToInvoice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a=(0,o.default)(l.default.mark(function a(n){var r;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=(0,u.default)({url:"".concat(f,"/ready-to-invoice")},e),a.next=3,(0,s.default)({dispatch:n,actions:p,fetch:{options:r,cookie:t}});case 3:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.listForCustomer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a=(0,o.default)(l.default.mark(function a(n){var o,i,c;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.id,i=(0,r.default)(e,["id"]),c=(0,u.default)({url:"/customers/".concat(o,"/").concat(f)},i),a.next=4,(0,s.default)({dispatch:n,actions:h,fetch:{options:c,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.getOne=function(e,t){return a=(0,o.default)(l.default.mark(function a(n){var r,u;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=(r=e.id)||"new",u={url:"".concat(f,"/").concat(r)},a.next=5,(0,s.default)({dispatch:n,actions:g,fetch:{options:u,cookie:t}});case 5:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.saveOne=function(e,t){return a=(0,o.default)(l.default.mark(function a(n){var r,u,o,i,d;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.body,u=r.id,o=(0,c.default)(u),i=o?"new":u,d={url:"".concat(f,"/").concat(i),body:r},a.next=7,(0,s.default)({dispatch:n,meta:{isNew:o},actions:E,fetch:{options:d,cookie:t}});case 7:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.archiveOne=function(e,t){return a=(0,o.default)(l.default.mark(function a(n){var r,u;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.id,u={url:"".concat(f,"/").concat(r,"/archive"),body:{}},a.next=4,(0,s.default)({dispatch:n,meta:{id:r},actions:y,fetch:{options:u,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.createInvoice=function(e,t){return a=(0,o.default)(l.default.mark(function a(n){var r,u;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.id,u={url:"".concat(f,"/").concat(r,"/create-invoice"),body:{}},a.next=4,(0,s.default)({dispatch:n,meta:{id:r},actions:b,fetch:{options:u,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a}},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.AmountPres=p,t.Num=t.FormatNumber=function(e){var t=e.value,a=e.wrapperProps,n=void 0===a?{}:a,u=(0,l.default)(e,["value","wrapperProps"]),o=v(t);return i.default.createElement("span",(0,r.default)({className:"".concat(m," ").concat(m,"--number")},n),null===o?"â€“":i.default.createElement(s.FormattedNumber,(0,r.default)({value:t},u)))},t.Percent=function(e){var t=e.value,a=e.className,n=(0,l.default)(e,["value","className"]);n.style="percent";var u=v(t),o=[m,"".concat(m,"--percent")];a&&o.push(a);return i.default.createElement("p",{className:o.join(" ")},null===u?"â€“":i.default.createElement(s.FormattedNumber,(0,r.default)({value:t},n)))},t.Day=g,t.Markdown=function(e){var t=e.text,a="string"==typeof t?(0,f.default)(t,{breaks:!0}):"";return i.default.createElement("div",{className:"markdown",dangerouslySetInnerHTML:{__html:a}})},t.Amount=void 0;var r=n(a(21)),l=n(a(13)),u=n(a(146)),o=n(a(145)),i=n(a(0)),c=n(a(1)),d=a(6),s=a(3),f=n(a(228));a(409);var m="format";function v(e){var t=parseFloat(e,10);return(0,o.default)(e)?e:(0,u.default)(t)?null:t}function p(e){var t=e.value,a=e.currency,n=(0,l.default)(e,["value","currency"]);n.style="currency";var u=v(t);return i.default.createElement("span",{className:"".concat(m," ").concat(m,"--currency")},null===u?"â€“":i.default.createElement(s.FormattedNumber,(0,r.default)({value:t,currency:a},n)))}var h=(0,d.connect)(function(e){return{currency:e.account.get("user.currency")}})(p);function g(e){return e.value?i.default.createElement(s.FormattedDate,{value:e.value}):i.default.createElement("span",null,"â€“")}t.Amount=h,h.propTypes={value:c.default.number},g.propTypes={value:c.default.string}},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonList=function(e){e.type;var t=(0,l.default)(e,["type"]);return u.default.createElement(i.BtnIcon,(0,r.default)({secondary:!0,to:"/".concat(e.type),svgId:"view-list"},t))},t.ButtonPreview=function(e){var t=e.type,a=e.id,n=(0,l.default)(e,["type","id"]);return u.default.createElement(i.BtnIcon,(0,r.default)({secondary:!0,to:"/".concat(t,"/").concat(a,"/preview"),svgId:"receipt"},n))},t.Print=t.ButtonPrint=function(e){return u.default.createElement(i.BtnIcon,(0,r.default)({secondary:!0,svgId:"print",onClick:function(e){return window.print()},label:"_.print"},e))},t.ButtonEdit=function(e){var t=e.type,a=e.document,n=(0,l.default)(e,["type","document"]);if(a.get("archivedAt"))return null;var o=a.get("id");return u.default.createElement(i.BtnIcon,(0,r.default)({to:"/".concat(t,"/").concat(o),svgId:"edit"},n))},t.New=t.ButtonNew=function(e){var t=e.type,a=e.icon,n=e.message,c=(0,l.default)(e,["type","icon","message"]),d="customers"===t?"person-add":"note-add",s={to:"/".concat(t,"/new")};return a?u.default.createElement(i.BtnIcon,(0,r.default)({},s,{svgId:d},c)):u.default.createElement(i.Button,(0,r.default)({},s,c),u.default.createElement(o.FormattedMessage,{id:n}))},t.ButtonSubmit=function(e){var t=e.isSaving,a=e.formId,n=(0,l.default)(e,["isSaving","formId"]),o=t?"block":"save";return u.default.createElement(i.BtnIcon,(0,r.default)({form:a,disabled:t,type:"submit",svgId:o},n))};var r=n(a(21)),l=n(a(13)),u=n(a(0)),o=a(3),i=a(24)},,,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.meta;switch(a){case f.SUCCESS:case v.SUCCESS:return(e=e.set("active",n.rows)).set("meta.active",n.meta);case m.SUCCESS:return(e=e.set("archived",n.rows)).set("meta.archived",n.meta);case f.LOADING:case m.LOADING:case v.LOADING:case p.LOADING:return e.set("current",E);case p.SUCCESS:return e.set("current",n);case g.SUCCESS:var l=r.id,u=e.get("active").filter(function(e){return e.id!==l}),o=e.set("active",u).set("current",n);return o;case h.LOADING:return e.set("isSaving",!0);case h.DONE:return e.set("isSaving",!1);case h.SUCCESS:return e.set("current",n);default:return e}},t.archiveOne=t.saveOne=t.getOne=t.listForCustomer=t.listArchived=t.listActive=t.EMPTY=t.ARCHIVE=t.SAVE_ONE=t.GET_ONE=t.LIST_FOR_CUSTOMER=t.LIST_ARCHIVED=t.LIST_ACTIVE=void 0;var r=n(a(13)),l=n(a(50)),u=n(a(36)),o=n(a(49)),i=n(a(22)),c=(n(a(57)),n(a(71))),d=n(a(84)),s=(a(25),"invoices"),f=(0,c.default)(s,"get","list-active");t.LIST_ACTIVE=f;var m=(0,c.default)(s,"get","list-archived");t.LIST_ARCHIVED=m;var v=(0,c.default)(s,"get","list-for-customer");t.LIST_FOR_CUSTOMER=v;var p=(0,c.default)(s,"get","one");t.GET_ONE=p;var h=(0,c.default)(s,"post","one");t.SAVE_ONE=h;var g=(0,c.default)(s,"post","archive");t.ARCHIVE=g;var E=(0,i.default)({isLoading:!0,reference:"loadingâ€¦",products:[]});t.EMPTY=E;var y=(0,i.default)({isSaving:!1,meta:{active:{},archived:{}},active:[],archived:[],current:E});t.listActive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a=(0,o.default)(l.default.mark(function a(n){var r;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=(0,u.default)({url:"".concat(s)},e),a.next=3,(0,d.default)({dispatch:n,actions:f,fetch:{options:r,cookie:t}});case 3:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.listArchived=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a=(0,o.default)(l.default.mark(function a(n){var r;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=(0,u.default)({url:"".concat(s,"/archived")},e),a.next=3,(0,d.default)({dispatch:n,actions:m,fetch:{options:r,cookie:t}});case 3:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.listForCustomer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a=(0,o.default)(l.default.mark(function a(n){var o,i,c;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.id,i=(0,r.default)(e,["id"]),c=(0,u.default)({url:"/customers/".concat(o,"/").concat(s)},i),a.next=4,(0,d.default)({dispatch:n,actions:v,fetch:{options:c,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.getOne=function(e,t){return a=(0,o.default)(l.default.mark(function a(n){var r,u;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.id,u={url:"".concat(s,"/").concat(r)},a.next=4,(0,d.default)({dispatch:n,actions:p,fetch:{options:u,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.saveOne=function(e,t){return a=(0,o.default)(l.default.mark(function a(n){var r,u,o;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.body,u=r.id,o={url:"".concat(s,"/").concat(u),body:r},a.next=5,(0,d.default)({dispatch:n,actions:h,fetch:{options:o,cookie:t}});case 5:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.archiveOne=function(e,t){return a=(0,o.default)(l.default.mark(function a(n){var r,u;return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.id,u={url:"".concat(s,"/").concat(r,"/archive"),body:{}},a.next=4,(0,d.default)({dispatch:n,meta:{id:r},actions:g,fetch:{options:u,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a}},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=t.Main=function(e){e.withMeta;var t,a=e.children,n=(0,u.default)((t={},(0,r.default)(t,o,!0),(0,r.default)(t,"".concat(o,"--has-meta"),l.default.Children.count(a)>1),t));return l.default.createElement("main",{role:"main",className:n},e.children)},t.Meta=function(e){return l.default.createElement("header",{className:"".concat(o,"__meta")},e.children)},t.Content=function(e){return l.default.createElement("article",{className:"".concat(o,"__content")},e.children)},t.ContentActions=function(e){return l.default.createElement("div",{className:"".concat(o,"__content_actions")},e.children)};var r=n(a(42)),l=n(a(0)),u=n(a(40));a(397);var o="main"},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Form=i,t.FormActions=function(e){return u.default.createElement("div",{className:"".concat(o,"__actions")},e.children)},t.default=t.BASE_CLASS=void 0;var r=n(a(21)),l=n(a(13)),u=n(a(0));a(422);var o="form";function i(e){var t=e.id,a=e.className,n=e.isSaving,i=e.children,c=(0,l.default)(e,["id","className","isSaving","children"]),d=[o,t];return n&&d.push("".concat(o,"--is-saving")),a&&d.push(a),u.default.createElement("form",(0,r.default)({id:t,method:"post",className:d.join(" ")},c),i)}t.BASE_CLASS=o;var c=i;t.default=c},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;t.meta;switch(a){case f.SUCCESS:return(e=e.set("active",n.rows)).set("meta.active",n.meta);case m.LOADING:return e.set("current",{isLoading:!0,name:"loadingâ€¦"});case m.SUCCESS:return e.set("current",n);case v.LOADING:return e.set("isSaving",!0);case v.DONE:return e.set("isSaving",!1);case v.SUCCESS:return e.set("current",n);default:return e}},t.saveOne=t.getOne=t.getAll=t.SAVE_ONE=t.GET_ONE=t.GET_ALL=void 0;var r=n(a(50)),l=n(a(36)),u=n(a(49)),o=n(a(22)),i=n(a(57)),c=n(a(71)),d=n(a(84)),s="customers",f=(0,c.default)(s,"get","all");t.GET_ALL=f;var m=(0,c.default)(s,"get","one");t.GET_ONE=m;var v=(0,c.default)(s,"post","one");t.SAVE_ONE=v;var p=(0,o.default)({isSaving:!1,active:[],meta:{all:{}},current:{}});t.getAll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a=(0,u.default)(r.default.mark(function a(n){var u;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u=(0,l.default)({url:"".concat(s)},e),a.next=3,(0,d.default)({dispatch:n,actions:f,fetch:{options:u,cookie:t}});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.getOne=function(e,t){return a=(0,u.default)(r.default.mark(function a(n){var l,u;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=(l=e.id)||"new",u={url:"".concat(s,"/").concat(l)},a.next=5,(0,d.default)({dispatch:n,actions:m,fetch:{options:u,cookie:t}});case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.saveOne=function(e,t){return a=(0,u.default)(r.default.mark(function a(n){var l,u,o,c,f;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.body,u=l.id,o=(0,i.default)(u),c=o?"new":u,f={url:"".concat(s,"/").concat(c),body:l},a.next=7,(0,d.default)({dispatch:n,meta:{isNew:o},actions:v,fetch:{options:f,cookie:t}});case 7:return a.abrupt("return",a.sent);case 8:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a}},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case d.SUCCESS:case f.SUCCESS:case v.SUCCESS:case p.SUCCESS:return(e=e.set("isAuthenticated",!0)).set("user",n.user);case d.ERROR:case h.SUCCESS:return(e=e.set("isAuthenticated",!1)).set("user",{});case s.SUCCESS:return e.set("statistics",n);case E.LOADING:return e.set("isSaving",!0);case E.DONE:return e.set("isSaving",!1);case E.SUCCESS:return e.set("user",n.user);default:return e}},t.updateSettings=t.reset=t.setPassword=t.forgot=t.register=t.logout=t.login=t.statistics=t.auth=t.UPDATE=t.REGISTER=t.LOGOUT=t.RESET=t.SET_PASSWORD=t.FORGOT=t.LOGIN=t.STATISTICS=t.AUTH=void 0;var r=n(a(50)),l=n(a(49)),u=n(a(22)),o=n(a(71)),i=n(a(84)),c="account",d=(0,o.default)(c,"get","auth");t.AUTH=d;var s=(0,o.default)(c,"get","statistics");t.STATISTICS=s;var f=(0,o.default)(c,"post","login");t.LOGIN=f;var m=(0,o.default)(c,"post","forgot");t.FORGOT=m;var v=(0,o.default)(c,"post","set-password");t.SET_PASSWORD=v;var p=(0,o.default)(c,"post","reset");t.RESET=p;var h=(0,o.default)(c,"get","logout");t.LOGOUT=h;var g=(0,o.default)(c,"post","register");t.REGISTER=g;var E=(0,o.default)(c,"post","one");t.UPDATE=E;var y=(0,u.default)({isSaving:!1,isAuthenticated:!1,user:{},statistics:{}});t.auth=function(e,t){return a=(0,l.default)(r.default.mark(function e(a){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"/".concat(c,"/auth")},e.next=3,(0,i.default)({dispatch:a,actions:d,fetch:{options:n,cookie:t}});case 3:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)};var a};t.statistics=function(e,t){return a=(0,l.default)(r.default.mark(function e(a){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"/".concat(c,"/statistics")},e.next=3,(0,i.default)({dispatch:a,actions:s,fetch:{options:n,cookie:t}});case 3:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)};var a};t.login=function(e,t){return a=(0,l.default)(r.default.mark(function a(n){var l,u;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.body,u={url:"/".concat(c,"/login"),body:l},a.next=4,(0,i.default)({dispatch:n,actions:f,fetch:{options:u,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.logout=function(e,t){return a=(0,l.default)(r.default.mark(function e(a){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"/".concat(c,"/logout")},e.next=3,(0,i.default)({dispatch:a,actions:h,fetch:{options:n,cookie:t}});case 3:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)};var a};t.register=function(e,t){return a=(0,l.default)(r.default.mark(function a(n){var l,u;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.body,u={url:"/".concat(c,"/register"),body:l},a.next=4,(0,i.default)({dispatch:n,actions:g,fetch:{options:u,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.forgot=function(e,t){return a=(0,l.default)(r.default.mark(function a(n){var l,u;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.body,u={url:"/".concat(c,"/forgot"),body:l},a.next=4,(0,i.default)({dispatch:n,actions:m,fetch:{options:u,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.setPassword=function(e,t){return a=(0,l.default)(r.default.mark(function a(n){var l,u;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.body,u={url:"/".concat(c,"/set-password"),body:l},a.next=4,(0,i.default)({dispatch:n,actions:v,fetch:{options:u,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.reset=function(e,t){return a=(0,l.default)(r.default.mark(function a(n){var l,u;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.body,u={url:"/".concat(c,"/reset"),body:l},a.next=4,(0,i.default)({dispatch:n,actions:p,fetch:{options:u,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a};t.updateSettings=function(e,t){return a=(0,l.default)(r.default.mark(function a(n){var l,u;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.body,u={url:"".concat(c,"/settings"),body:l},a.next=4,(0,i.default)({dispatch:n,actions:E,fetch:{options:u,cookie:t}});case 4:case"end":return a.stop()}},a,this)})),function(e){return a.apply(this,arguments)};var a}},,,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.idToClassName=_,t.CheckBox=function(e){var t=e.name,a=e.defaultChecked,n=a?"check-box":"check-box-outline-blank";return p.default.createElement("label",{className:"".concat(y," ").concat(y,"--is-checkbox")},p.default.createElement("input",{className:"".concat(y,"__control"),type:"checkbox",key:"".concat(t,"-").concat(a),name:t,defaultValue:"true",defaultChecked:a}),p.default.createElement(g.Icon,{svgId:n}))},t.Select=t.Textarea=t.Input=void 0;var r=n(a(21)),l=n(a(36)),u=n(a(13)),o=n(a(18)),i=n(a(17)),c=n(a(16)),d=n(a(15)),s=n(a(14)),f=n(a(20)),m=n(a(57)),v=n(a(22)),p=n(a(0)),h=a(3),g=a(70),E=a(147);a(413);var y="field";function b(e){return(0,m.default)(e)||""===e}function C(e){return(0,m.default)(e)?"":e}function _(e){return e.replace(/\]$/,"").replace(/[\[\]]/g,"-").toLowerCase()}var S=function(e){var t=e.ControlComponent,a=e.fieldType;return function(e){function n(e){var t;(0,o.default)(this,n),(t=(0,d.default)(this,(0,s.default)(n).call(this,e))).handleChange=t.handleChange.bind((0,f.default)((0,f.default)(t))),t.handleBlur=t.handleBlur.bind((0,f.default)((0,f.default)(t)));var r=e.id,i=e.label,c=e.darkBg,p=(e.onChange,e.onBlur,(0,u.default)(e,["id","label","darkBg","onChange","onBlur"])),h=r||p.name,g=_(h),E=e.type,b=[y,"".concat(y,"--").concat(g),"".concat(y,"--is-").concat(a)];E&&b.push("".concat(y,"--type-").concat(E)),c&&b.push("".concat(y,"--dark-background"));var S=(0,v.default)({className:b.join(" ")}),w=(0,v.default)({className:"".concat(y,"__label"),htmlFor:h,label:i}),k=(0,v.default)((0,l.default)({id:h,className:"".concat(y,"__control"),onChange:t.handleChange,onBlur:t.handleBlur},p));return(0,m.default)(e.defaultValue)&&(k.value=C(e.value)),t.state={wrapperProps:S,labelProps:w,controlProps:k,isEmpty:!1,isTouched:!1,isPristine:!0},t}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this.state.controlProps,t=b("value"in e?e.value:e.defaultValue);this.setState(function(e){return{isEmpty:t}})}},{key:"handleChange",value:function(e){var t=this.props,a=e.target.value;this.setState(function(e){return{isEmpty:b(a),isPristine:!1}}),"function"==typeof t.onChange&&t.onChange(e)}},{key:"handleBlur",value:function(e){var t=this.props;document.activeElement!==this.controlEl&&this.setState(function(e){return{isTouched:!0}}),"function"==typeof t.onBlur&&t.onBlur(e)}},{key:"render",value:function(){var e=this,a=this.state,n=a.wrapperProps,l=a.labelProps,u=a.controlProps,o=a.isEmpty,i=a.isTouched,c=[n.className,"".concat(y,o?"--is-empty":"--is-not-empty"),"".concat(y,i?"--is-touched":"--is-not-touched")].join(" ");return p.default.createElement("div",{className:c},p.default.createElement(t,(0,r.default)({controlRef:function(t){e.controlEl=t}},u)),p.default.createElement("label",{className:l.className,htmlFor:l.htmlFor},p.default.createElement(h.FormattedMessage,{id:l.label})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.controlProps,n=e.value!==a.value,r=e.options!==a.options;if(!n&&!r)return null;var l={controlProps:a,isEmpty:t.isEmpty};if(r&&(l.controlProps=l.controlProps.set("options",e.options)),n){var u=C(e.value);l.isEmpty=b(u),l.controlProps=l.controlProps.set("value",u)}return l}}]),(0,i.default)(n,e),n}(p.default.PureComponent)},w=S({ControlComponent:function(e){var t=e.controlRef,a=(0,u.default)(e,["controlRef"]);return p.default.createElement("input",(0,r.default)({ref:t},a))},fieldType:"input"});t.Input=w;var k=S({ControlComponent:function(e){var t=e.controlRef,a=(0,u.default)(e,["controlRef"]);return p.default.createElement(E.TextareaAutoResize,(0,r.default)({ref:t},a))},fieldType:"textarea"});t.Textarea=k;var P=(0,v.default)({value:"value",label:"label"}),A=S({ControlComponent:function(e){var t=e.options,a=e.optionsKeys,n=void 0===a?P:a,l=e.controlRef,o=(0,u.default)(e,["options","optionsKeys","controlRef"]),i=Array.isArray(t)&&t.length>0;return p.default.createElement("select",(0,r.default)({ref:l},o),i&&t.map(function(e){return p.default.createElement("option",{key:"".concat(l,"-").concat(e.get(n.value)),value:e.get(n.value)},e.get(n.label))}))},fieldType:"select"});t.Select=A},,,,,,,,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=t.TableFooter=function(e){return v.default.createElement("tfoot",{className:"".concat(C,"__footer")},e.children)},t.RowFooter=function(e){return v.default.createElement("tr",{className:"".concat(C,"__footer_row")},e.children)},t.Cell=S,t.Row=function(e){return v.default.createElement(_.Consumer,null,function(t){var a=t.columns,n=t.hideColumns;return v.default.createElement("tr",{className:"".concat(C,"__body_row")},v.default.Children.map(e.children,function(e,t){var r=a[t];return n.includes(r.id)?null:v.default.cloneElement(e,{type:e.props.type||a[t].type})}))})},t.EmptyLine=w,t.computeSortQuery=k,t.default=t.Wrapper=t.Table=t.PaginatedTable=void 0;var r=n(a(36)),l=n(a(18)),u=n(a(17)),o=n(a(16)),i=n(a(15)),c=n(a(14)),d=n(a(20)),s=n(a(42)),f=n(a(21)),m=n(a(13)),v=n(a(0)),p=n(a(40)),h=n(a(1)),g=a(3),E=a(12),y=a(227),b=a(226);a(401);var C="table",_=v.default.createContext({columns:[],hideColumns:[]});function S(e){var t=e.type,a=(0,m.default)(e,["type"]),n=t||"text",r=(0,p.default)("".concat(C,"__cell"),n.split(" ").map(function(e){return"".concat(C,"__cell--is-").concat(e)}));return v.default.createElement("td",(0,f.default)({className:r},a),e.children)}function w(e){var t=e.columns,a=e.hideColumns,n=t.filter(function(e){return!a.includes(e.id)}).length;return v.default.createElement("tr",{className:"".concat(C,"__body_row")},v.default.createElement(S,{colSpan:n,type:"empty"},v.default.createElement(g.FormattedMessage,{id:"table.empty"})))}function k(e,t){return e.sort===t?"ASC"===e.dir?{sort:t,dir:"DESC"}:{}:{sort:t,dir:"ASC"}}S.propTypes={type:h.default.string};var P=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).state={sort:void 0,dir:void 0},a.handleSort=a.handleSort.bind((0,d.default)((0,d.default)(a))),a.handlePrev=a.handlePrev.bind((0,d.default)((0,d.default)(a))),a.handleNext=a.handleNext.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"handleSort",value:function(e,t){if(e.preventDefault(),t){var a=this.props,n=a.handlePageSort,l=a.match;if(n){var u=k(this.state,t);n((0,r.default)({query:u},l.params)),this.setState(function(e){return{sort:u.sort,dir:u.dir}})}}}},{key:"handlePrev",value:function(e){e.preventDefault();var t=this.props,a=t.meta,n=t.handlePageSort,l=t.match;n&&a.previousPage&&n((0,r.default)({query:(0,r.default)({page:a.previousPage},this.state)},l.params))}},{key:"handleNext",value:function(e){e.preventDefault();var t=this.props,a=t.meta,n=t.handlePageSort,l=t.match;n&&a.nextPage&&n((0,r.default)({query:(0,r.default)({page:a.nextPage},this.state)},l.params))}},{key:"render",value:function(){var e=this.props,t=this.state,a=e.className,n=e.presentation,r=(e.handlePageSort,e.hideOnEmpty),l=v.default.Children.count(e.children)>0,u=null!=e.footer,o=null!=e.meta,i=(0,p.default)(C,a,!!n&&"".concat(C,"--presentation"));return r&&!l?null:v.default.createElement("div",{className:i},v.default.createElement("table",{cellSpacing:"0",className:"".concat(C,"__content")},e.title&&v.default.createElement("caption",{className:"".concat(C,"__title")},v.default.createElement(g.FormattedMessage,{id:e.title})),v.default.createElement(b.Thead,{columns:e.columns,hideColumns:e.hideColumns,handleSort:this.handleSort,sort:t.sort,dir:t.dir}),v.default.createElement(_.Provider,{value:{columns:e.columns,hideColumns:e.hideColumns}},v.default.createElement("tbody",{className:"".concat(C,"__body")},l?e.children:v.default.createElement(w,{columns:e.columns,hideColumns:e.hideColumns}))),u&&e.footer),o&&v.default.createElement(y.Pagination,{meta:e.meta,handlePrev:this.handlePrev,handleNext:this.handleNext}))}}]),(0,u.default)(t,e),t}(v.default.PureComponent);t.PaginatedTable=P,(0,s.default)((0,s.default)(P,"defaultProps",{hideColumns:[]}),"propTypes",{columns:h.default.arrayOf(h.default.object).isRequired,hideColumns:h.default.arrayOf(h.default.string),hideOnEmpty:h.default.bool,meta:h.default.object,handlePageSort:h.default.func,footer:h.default.element});var A=(0,E.withRouter)(P);t.Wrapper=t.Table=A;var N=A;t.default=N},,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.createElement("main",{role:"main",className:"".concat(u)},r.default.createElement(l.Helmet,null,r.default.createElement("html",{className:"dark-background"})),r.default.createElement("div",{className:"".concat(u,"__card")},e.title&&r.default.createElement("h2",{className:"".concat(u,"__title")},e.title),r.default.createElement("div",{className:"".concat(u,"__content")},e.children)))};var r=n(a(0)),l=a(9);a(435);var u="boarding"},,,,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Progress=function(e){var t=e.max,a=e.value,n=e.tableLayout,i=a/t,c=Math.max(0,Math.min(100,100*i)),d=(0,r.default)(c)?"0":"".concat(c,"%"),s=[o];n&&s.push("".concat(o,"--table-layout"));return l.default.createElement("dl",{className:s.join(" ")},l.default.createElement("dt",{className:"".concat(o,"__label")},l.default.createElement(u.Percent,{value:i})),l.default.createElement("dd",{className:"".concat(o,"__bar"),style:{width:d}}))};var r=n(a(146)),l=n(a(0)),u=a(26);a(395);var o="progress"},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=window.__CONFIG__;t.default=n},,,,,,,,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Preview=d,t.PrintingNotice=function(e){return r.default.createElement(i.Alert,{warning:!0,className:"printing-notice"},r.default.createElement(u.FormattedHTMLMessage,{id:"_.print-notice"}))};var r=n(a(0)),l=n(a(1)),u=(a(6),a(3)),o=a(69),i=a(103),c=a(102);function d(e){var t=e.document,a=e.type,n=t.get("products");return t&&n?r.default.createElement(o.PaperSheet,{preview:!0},r.default.createElement(o.Reference,{type:a,product:t}),r.default.createElement(o.Between,null,r.default.createElement(o.PartyUser,null),r.default.createElement(o.Party,{title:"to",people:t.get("customer")})),r.default.createElement(o.Subject,{value:t.get("name")}),r.default.createElement(c.ProductTable,{readOnly:!0,document:t}),r.default.createElement(o.Mentions,{content:t.get("".concat(a,"Config.mentions"))})):null}d.propTypes={document:l.default.object.isRequired,type:l.default.oneOf(["quotation","invoice"])}},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CustomerQuotations=t.QuotationsReadyToInvoice=t.ArchivedQuotations=t.ActiveQuotations=void 0;var l=r(a(21)),u=r(a(13)),o=r(a(0)),i=a(8),c=a(6),d=(a(3),a(12)),s=n(a(25)),f=a(48),m=a(26),v=(a(24),a(100));function p(e){var t=e.quotation,a=t.get("id"),n=t.get("archivedAt"),r="".concat(n?"/archives":"","/quotations/").concat(a);return o.default.createElement(f.Row,null,o.default.createElement(f.Cell,null,o.default.createElement(d.Link,{to:r},t.get("reference"))),o.default.createElement(f.Cell,null,o.default.createElement(d.Link,{to:r},t.get("name"))),o.default.createElement(f.Cell,null,o.default.createElement(d.Link,{to:"/customers/".concat(t.get("customerId"))},t.get("customer.name"))),o.default.createElement(f.Cell,null,o.default.createElement(m.Day,{value:t.get("sendAt")})),o.default.createElement(f.Cell,null,o.default.createElement(m.Day,{value:t.get("validatedAt")})),o.default.createElement(f.Cell,null,o.default.createElement(m.Day,{value:t.get("signedAt")})),o.default.createElement(f.Cell,null,o.default.createElement(v.ShowInvoice,{linkAlike:!0,quotation:t}),o.default.createElement(v.CreateInvoice,{linkAlike:!0,quotation:t})),o.default.createElement(f.Cell,null,o.default.createElement(m.Amount,{value:t.get("total")})),o.default.createElement(f.Cell,null,o.default.createElement(v.ArchiveQuotation,{icon:!0,linkAlike:!0,quotation:t})))}var h=[{id:"id",label:"table.header.id",sort:"index",type:"id"},{id:"name",label:"table.header.name",sort:"name",type:"text"},{id:"customer",label:"table.header.customer",sort:"customer.name",type:"customer"},{id:"sent",label:"table.header.sent",sort:"sendAt",type:"date"},{id:"validated",label:"table.header.validated",sort:"validatedAd",type:"date"},{id:"signed",label:"table.header.signed",sort:"signedAt",type:"date"},{id:"invoice",label:"table.header.invoice",sort:"invoice.index",type:"id"},{id:"amount",label:"table.amount",sort:"total",type:"amount"},{id:"archive",label:!1,sort:!1,type:"action"}];function g(e){var t=e.quotations,a=void 0===t?[]:t,n=(0,u.default)(e,["quotations"]);return o.default.createElement(f.Table,(0,l.default)({presentation:!0,columns:h},n),a.map(function(e){return o.default.createElement(p,{key:e.id,quotation:e})}))}var E=(0,c.connect)(function(e){return{quotations:e.quotations.get("active"),meta:e.quotations.get("meta.active"),hideColumns:["signed","invoice"]}},function(e){return(0,i.bindActionCreators)({handlePageSort:s.listActive},e)})(g);t.ActiveQuotations=E;var y=(0,c.connect)(function(e){return{quotations:e.quotations.get("archived"),meta:e.quotations.get("meta.archived"),hideColumns:["archive"]}},function(e){return(0,i.bindActionCreators)({handlePageSort:s.listArchived},e)})(g);t.ArchivedQuotations=y;var b=(0,c.connect)(function(e){return{quotations:e.quotations.get("readyToInvoice"),meta:e.quotations.get("meta.readyToInvoice"),title:"quotation.ready-to-invoice",hideColumns:["sent","validated"],hideOnEmpty:!0}},function(e){return(0,i.bindActionCreators)({handlePageSort:s.listReadyToInvoice},e)})(g);t.QuotationsReadyToInvoice=b;var C=(0,c.connect)(function(e){return{quotations:e.quotations.get("active"),meta:e.quotations.get("meta.active"),hideColumns:["customer"]}},function(e){return(0,i.bindActionCreators)({handlePageSort:s.listForCustomer},e)})(g);t.CustomerQuotations=C;var _=g;t.default=_},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Sheet=t.PaperSheet=function(e){var t=e.part,a=e.preview,n=[i];t&&n.push("".concat(i,"--part-").concat(t));a&&n.push("".concat(i,"--preview-mode"));return r.default.createElement("div",{className:n.join(" ")},e.children)},t.Reference=function(e){var t=e.type,a=e.product,n=a.updatedAt,u=a.reference,c="".concat(i,"__reference");return r.default.createElement("header",{className:c},r.default.createElement("h3",{className:"".concat(c,"-type")},r.default.createElement(l.FormattedMessage,{id:"paper-sheet.reference.".concat(t)})),r.default.createElement("h4",{className:"".concat(c,"-id")},"Ref. ",u),r.default.createElement("p",{className:"".concat(c,"-date")},r.default.createElement(l.FormattedMessage,{id:"paper-sheet.reference.date"}),r.default.createElement(o.Day,{value:n})))},t.Between=function(e){return r.default.createElement("div",{className:"".concat(i,"__between")},e.children)},t.Party=c,t.Subject=function(e){var t="".concat(i,"__subject");return r.default.createElement("div",{className:t},r.default.createElement("span",{className:"".concat(t,"-title")},r.default.createElement(l.FormattedMessage,{id:"paper-sheet.subject"})),r.default.createElement("span",{className:"".concat(t,"-content")},e.value))},t.Mentions=function(e){var t=e.content,a="".concat(i,"__mentions");return r.default.createElement("div",{className:"".concat(a)},r.default.createElement(o.Markdown,{text:t}))},t.User=t.PartyUser=void 0;var r=n(a(0)),l=a(3),u=a(6),o=a(26);a(407);var i="paper-sheet";function c(e){var t=e.title,a=e.people,n=void 0===a?{}:a,u="".concat(i,"__party"),c=n.address;return r.default.createElement("aside",{className:"".concat(u)},r.default.createElement("p",{className:"".concat(u,"-title")},r.default.createElement(l.FormattedMessage,{id:"paper-sheet.party.".concat(t)})),r.default.createElement("h4",{className:"".concat(u,"-name")},n.name?n.name:r.default.createElement("p",{className:"".concat(u,"-address ").concat(u,"-name--empty")},r.default.createElement(l.FormattedMessage,{id:"paper-sheet.party.no-name.".concat(t)}))),c?r.default.createElement(o.Markdown,{text:c}):r.default.createElement("p",{className:"".concat(u,"-address ").concat(u,"-address--empty")},r.default.createElement(l.FormattedMessage,{id:"paper-sheet.party.no-address.".concat(t)})))}var d=(0,u.connect)(function(e){return{user:e.account.get("user")}})(function(e){return r.default.createElement(c,{title:"from",people:e.user})});t.User=t.PartyUser=d},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=d,t.default=void 0;var r=n(a(21)),l=n(a(13)),u=n(a(0)),o=n(a(40)),i=n(a(1));a(420);var c="svg-icon";function d(e){var t=e.svgId,a=e.className,n=(0,l.default)(e,["svgId","className"]),i=(0,o.default)(c,"icon-".concat(t),a);return u.default.createElement("svg",(0,r.default)({role:"img",className:i},n),u.default.createElement("use",{xlinkHref:"#icon-".concat(t)}))}d.propTypes={svgId:i.default.string.isRequired};var s=d;t.default=s},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n=t?"/".concat(t):"";return{method:t,LOADING:"".concat(u,"/").concat(e).concat(n,"/").concat(a,"/").concat(o.loading),DONE:"".concat(u,"/").concat(e).concat(n,"/").concat(a,"/").concat(o.done),SUCCESS:"".concat(u,"/").concat(e).concat(n,"/").concat(a,"/").concat(o.success),ERROR:"".concat(u,"/").concat(e).concat(n,"/").concat(a,"/").concat(o.error)}};var r=n(a(22)),l=n(a(58)),u="@".concat(l.default.APP_NAME),o=(0,r.default)({loading:"loading",done:"done",success:"success",error:"error"})},,,,,,,,,function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CustomerInvoices=t.ArchivedInvoices=t.ActiveInvoices=void 0;var l=r(a(21)),u=r(a(13)),o=r(a(0)),i=a(12),c=a(6),d=a(8),s=n(a(31)),f=a(48),m=a(26),v=a(56),p=a(101);function h(e){var t=e.invoice,a=t.get("archivedAt"),n="".concat(a?"/archives":"","/invoices/").concat(t.id);return o.default.createElement(f.Row,null,o.default.createElement(f.Cell,null,o.default.createElement(i.Link,{to:n},t.get("reference"))),o.default.createElement(f.Cell,null,o.default.createElement(i.Link,{to:n},t.get("name"))),o.default.createElement(f.Cell,null,o.default.createElement(i.Link,{to:"/customers/".concat(t.customerId)},t.get("customer.name"))),o.default.createElement(f.Cell,null,o.default.createElement(i.Link,{to:"/quotations/".concat(t.get("quotation.id"),"/preview")},t.get("quotation.reference"))),o.default.createElement(f.Cell,null,o.default.createElement(m.Amount,{value:t.get("total")})),o.default.createElement(f.Cell,null,o.default.createElement(v.Progress,{tableLayout:!0,value:t.get("totalPaid"),max:t.get("total")})),o.default.createElement(f.Cell,null,o.default.createElement(p.ArchiveInvoice,{icon:!0,linkAlike:!0,invoice:t})))}var g=[{id:"id",label:"table.header.id",sort:"index",type:"id"},{id:"name",label:"table.header.name",sort:"name",type:"text"},{id:"customer",label:"table.header.customer",sort:"customer.name",type:"customer"},{id:"quotation",label:"table.header.quotation",sort:"quotation.index",type:"id"},{id:"amount",label:"table.amount",sort:"total",type:"amount"},{id:"paid",label:"table.amount.paid",sort:"totalPaid",type:"progress"},{id:"archive",label:!1,sort:!1,type:"action"}];function E(e){var t=e.invoices,a=void 0===t?[]:t,n=(0,u.default)(e,["invoices"]);return o.default.createElement(f.Table,(0,l.default)({presentation:!0,columns:g},n),a.map(function(e){return o.default.createElement(h,{key:e.id,invoice:e})}))}var y=(0,c.connect)(function(e){return{invoices:e.invoices.get("active"),meta:e.invoices.get("meta.active")}},function(e){return(0,d.bindActionCreators)({handlePageSort:s.getAll},e)})(E);t.ActiveInvoices=y;var b=(0,c.connect)(function(e){return{invoices:e.invoices.get("archived"),meta:e.invoices.get("meta.archived"),hideColumns:["archive"]}},function(e){return(0,d.bindActionCreators)({handlePageSort:s.listArchived},e)})(E);t.ArchivedInvoices=b;var C=(0,c.connect)(function(e){return{invoices:e.invoices.get("active"),meta:e.invoices.get("meta.active"),hideColumns:["customer"]}},function(e){return(0,d.bindActionCreators)({handlePageSort:s.listForCustomer},e)})(E);t.CustomerInvoices=C},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=t.Tabs=function(e){return s.default.createElement("div",{className:f},e.children)},t.Header=t.TabListHeader=function(e){return s.default.createElement("div",{className:"".concat(f,"__list_header")},e.children)},t.Tab=v,t.Panel=t.TabPanel=function(e){return s.default.createElement("section",{className:"".concat(f,"__panel")},e.children)},t.List=t.TabList=void 0;var r=n(a(21)),l=n(a(18)),u=n(a(17)),o=n(a(16)),i=n(a(15)),c=n(a(14)),d=n(a(20)),s=n(a(0));a(405);var f="tabs";var m=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).tabsIds=[],a.makeTabs(),a.state={selected:0},a.handleChange=a.handleChange.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"handleChange",value:function(e){e.stopPropagation();var t=e.target.value;this.setState(function(e){return{selected:parseInt(t,10)}})}},{key:"makeTabs",value:function(){var e=this,t=0;this.tabsContent=s.default.Children.map(this.props.children,function(a){if(!(a.type===v))return a;var n="tabs-".concat(t+=1);return e.tabsIds.push(n),s.default.cloneElement(a,{htmlFor:n})})}},{key:"render",value:function(){var e=this;return s.default.createElement(s.default.Fragment,null,this.tabsIds.map(function(t,a){return s.default.createElement("input",{className:"".concat(f,"__input"),key:t,type:"radio",name:"tabs",value:a,id:t,checked:a===e.state.selected,onChange:e.handleChange})}),s.default.createElement("header",{className:"".concat(f,"__list")},this.tabsContent))}}]),(0,u.default)(t,e),t}(s.default.PureComponent);function v(e){return s.default.createElement("label",(0,r.default)({className:"".concat(f,"__list_tab")},e),e.children)}t.List=t.TabList=m},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.roundToNearestQuarter=l,t.enforceNumber=u,t.productTotal=o,t.totals=function(e){var t=e.products,a=e.tax,n=void 0===a?0:a;if(!r.default.isArray(t))return e;var i=u(n),c=t.reduce(function(e,t){return e+o(t)},0),d=l(c*i/100);return{totalNet:c,totalTax:d,total:c+d}};var r=n(a(22));function l(e){var t=Math.round(4*e)/4;return parseFloat(t.toFixed(2),10)}function u(e){return e="number"!=typeof e?parseFloat(e,10):e,isNaN(e)?0:e}function o(e){if(!e.checked)return 0;var t={};return["quantity","price"].forEach(function(a){t[a]=u(e[a])}),l(t.quantity*t.price)}},,function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return c.apply(this,arguments)};var l=r(a(50)),u=r(a(49)),o=(r(a(22)),r(a(108))),i=n(a(264));function c(){return(c=(0,u.default)(l.default.mark(function e(t){var a,n,r,u,c,d,s,f,m,v,p;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dispatch,n=t.fetch,r=t.actions,u=t.meta,c=void 0===u?{}:u,d=n.options,s=n.cookie,f=r.method,m=void 0===f?"get":f,a({type:r.LOADING,payload:{loading:!0}}),e.prev=4,e.next=7,i[m](d,s);case 7:v=e.sent,p=v.payload,a({type:r.DONE,meta:c,payload:{}}),p.error?a({type:r.ERROR,meta:(0,o.default)({_fetchDispatchErrorType:"RESPONSE_ERROR"},c),error:!0,payload:p}):a({type:r.SUCCESS,meta:c,payload:p}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),a({type:r.DONE,meta:c,payload:{}}),a({type:r.ERROR,meta:(0,o.default)({_fetchDispatchErrorType:"FETCH_ERROR"},c),error:!0,payload:e.t0});case 17:case"end":return e.stop()}},e,this,[[4,13]])}))).apply(this,arguments)}},,,,,,,,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.QuotationFormPres=function(e){var t=e.isSaving,a=e.customers,n=e.formData,h=e.customer,g=e.isNew,E=e.handle,y=n.products,b=(Array.isArray(y)&&y.length,"quotation.button.".concat(g?"create":"update"));return r.default.createElement(i.Form,{id:p,isSaving:t,onChange:E.formChange,onSubmit:E.submit},r.default.createElement(u.Main,null,r.default.createElement(u.Meta,null,r.default.createElement("div",{className:"".concat(v,"__meta")},!g&&r.default.createElement("input",{type:"hidden",defaultValue:n.id,name:"id"}),r.default.createElement(s.Stepper,{steps:n.steps,handleDayChange:E.dayChange}),r.default.createElement(d.Select,{label:"field.customer",name:"customerId",value:n.get("customerId"),options:a,optionsKeys:{value:"id",label:"name"}}),r.default.createElement(d.Input,{name:"tax",label:"field.tax",type:"number",min:"0",step:"0.5",value:n.get("tax")}))),r.default.createElement(u.Content,null,r.default.createElement(o.PaperSheet,null,r.default.createElement(o.Reference,{type:"quotation",product:n}),r.default.createElement(o.Between,null,r.default.createElement(o.PartyUser,null),r.default.createElement(o.Party,{title:"to",people:h})),r.default.createElement(d.Input,{name:"name",label:"field.subject",value:n.name}),r.default.createElement(f.ProductTable,{document:n,handleRemove:E.productRemove}),r.default.createElement(o.Mentions,{content:n.quotationConfig.mentions})),r.default.createElement(i.FormActions,null,r.default.createElement(c.Button,{type:"submit"},r.default.createElement(l.FormattedMessage,{id:b})),r.default.createElement(m.CreateInvoice,{quotation:n}),r.default.createElement(m.ShowInvoice,{quotation:n,withMessage:!0}),r.default.createElement(m.ArchiveQuotation,{danger:!0,quotation:n})))))},t.FORM_ID=t.BASE_CLASS=void 0;var r=n(a(0)),l=a(3),u=a(32),o=a(69),i=a(33),c=a(24),d=a(39),s=a(202),f=(n(a(70)),a(102)),m=a(100);a(380);var v="quotation-form";t.BASE_CLASS=v;var p=v;t.FORM_ID=p},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Spinner=void 0;var r=n(a(18)),l=n(a(17)),u=n(a(16)),o=n(a(15)),i=n(a(14)),c=n(a(20)),d=n(a(0)),s=a(3);a(384);var f=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,o.default)(this,(0,i.default)(t).call(this,e))).state={showSpinner:!1},a.showSpinner=a.showSpinner.bind((0,c.default)((0,c.default)(a))),a}return(0,u.default)(t,[{key:"componentDidMount",value:function(){this.timerId=setTimeout(this.showSpinner,1e3)}},{key:"componentWillUnmount",value:function(){this.timerId&&clearTimeout(this.timerId),this.timerId=!1}},{key:"showSpinner",value:function(){this.timerId&&this.setState(function(e){return{showSpinner:!0}})}},{key:"render",value:function(){var e=["spinner"];return this.state.showSpinner&&e.push("".concat("spinner","--is-loading")),d.default.createElement("aside",{className:e.join(" ")},d.default.createElement(s.FormattedMessage,{id:"spinner.loading"}))}}]),(0,l.default)(t,e),t}(d.default.PureComponent);t.Spinner=f;var m=f;t.default=m},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.customer=t.invoice=t.quotation=t.isArchived=t.isNewInvoice=t.isNewCustomer=t.isNewQuotation=void 0;var r=n(a(57)),l=function(e){return function(t){var a=t.next,n=t.current;if(n.isLoading||a.isLoading)return!1;var l=n[e],u=a[e],o=!(0,r.default)(l),i=!(0,r.default)(u);return!!(!o&&i)||o&&i&&l!==u}},u=l("id");t.isNewQuotation=u;var o=l("id");t.isNewCustomer=o;var i=l("invoiceId");t.isNewInvoice=i;var c=function(e){var t=e.next;e.current;return!(0,r.default)(t.archivedAt)};t.isArchived=c;var d={test:o,to:function(e){return"/customers/".concat(e.id)}},s={test:u,to:function(e){return"/quotations/".concat(e.id)}},f={test:c,to:function(e){return"/archives/quotations/".concat(e.id)}},m={test:i,to:function(e){return"/invoices/".concat(e.invoiceId)}},v={test:c,to:function(e){return"/archives/invoices/".concat(e.id)}},p=function(e){return function(t,a){var n=e.next,r=e.current,l=e.history,u=e.staticContext;if(t)return t;if(!a.test({next:n,current:r}))return!1;var o=a.to(n);return u&&(u.status=302,u.url=o),l.push(o)}};t.quotation=function(e){return[s,m,f].reduce(p(e),!1)};t.invoice=function(e){return[v].reduce(p(e),!1)};t.customer=function(e){return[d].reduce(p(e),!1)}},,,function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.DatePicker=function(e){var t=e.handleDayChange,a=e.value,n=(0,l.default)(e,["handleDayChange","value"]),r=(0,o.default)(a||""),s=r.isValid()?r.toDate():"";return u.default.createElement(i.default,{value:s,locale:"fr",formatDate:c.formatDate,parseDate:c.parseDate,clickUnselectsDay:!0,format:"L",placeholder:"dd/mm/yyyy",inputProps:n,dayPickerProps:{disabledDays:d,locale:"fr",localeUtils:c.default},onDayChange:function(e){t&&t({name:n.name,value:e||""})}})};var l=r(a(13)),u=r(a(0)),o=r(a(79)),i=r(a(217)),c=n(a(208));a(207),a(142),a(387);var d={after:new Date}},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=t.PresByKey=function(e){return r.default.createElement("dl",{className:o},e.children)},t.Label=t.KeyLabel=i,t.Value=t.KeyValue=function(e){return r.default.createElement("dd",{className:"".concat(o,"__value")},e.children)};var r=n(a(0)),l=n(a(1)),u=a(3);a(389);var o="key-presentation";function i(e){return r.default.createElement("dt",{className:"".concat(o,"__label")},r.default.createElement(u.FormattedMessage,e))}i.propTypes={id:l.default.string.isRequired}},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ArchiveQuotation=t.CreateInvoice=t.ShowInvoice=void 0;var l=r(a(36)),u=r(a(21)),o=r(a(13)),i=r(a(0)),c=a(6),d=a(8),s=a(3),f=n(a(25)),m=a(24);var v=(0,c.connect)(function(e){return{isSaving:e.quotations.get("isSaving")}})(function(e){var t=e.quotation,a=e.isSaving,n=e.withMessage,r=(e.dispatch,(0,o.default)(e,["quotation","isSaving","withMessage","dispatch"]));if(!t)return null;var l=t.get("invoiceId");if(!l)return null;var c=t.get("invoice.archivedAt");return i.default.createElement(m.Button,(0,u.default)({secondary:!0,to:"/invoices/".concat(l).concat(c?"/preview":""),disabled:a},r),n?i.default.createElement(s.FormattedMessage,{id:"quotation.invoice.show"}):t.get("invoice.reference"))});t.ShowInvoice=v;var p=(0,c.connect)(function(e){return{isSaving:e.quotations.get("isSaving")}},function(e){return(0,d.bindActionCreators)({createInvoice:f.createInvoice},e)})(function(e){var t=e.quotation,a=e.createInvoice,n=e.isSaving,r=(0,o.default)(e,["quotation","createInvoice","isSaving"]);if(!t)return null;var c=t.get("id");if(!t.get("_canCreateInvoice"))return null;var d=(0,l.default)({onClick:function(e){e.preventDefault(),a({id:c})},type:"submit",formMethod:"post",formAction:"/quotations/".concat(c,"/create-invoice"),disabled:n},r);return i.default.createElement(m.Button,(0,u.default)({secondary:!0},d),i.default.createElement(s.FormattedMessage,{id:"quotation.invoice.create"}))});t.CreateInvoice=p;var h=(0,c.connect)(function(e){return{isSaving:e.quotations.get("isSaving")}},function(e){return(0,d.bindActionCreators)({archiveOne:f.archiveOne},e)})(function(e){var t=e.quotation,a=e.archiveOne,n=e.isSaving,r=e.icon,c=(0,o.default)(e,["quotation","archiveOne","isSaving","icon"]);if(!t)return null;var d=t.get("id");if(!t.get("_canBeArchived"))return null;var f=(0,l.default)({onClick:function(e){e.preventDefault(),a({id:d})},type:"submit",formMethod:"post",formAction:"/quotations/".concat(d,"/archive"),disabled:n},c);return r?i.default.createElement(m.BtnIcon,(0,u.default)({svgId:"archive"},f)):i.default.createElement(m.Button,f,i.default.createElement(s.FormattedMessage,{id:"quotation.button.archive"}))});t.ArchiveQuotation=h},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ArchiveInvoice=t.ShowQuotation=void 0;var l=r(a(21)),u=r(a(36)),o=r(a(13)),i=r(a(0)),c=a(8),d=a(6),s=a(3),f=n(a(31)),m=a(24);var v=(0,d.connect)(function(e){return{quotationId:e.invoices.get("current.quotation.id"),isSaving:e.invoices.get("isSaving")}})(function(e){var t=e.quotationId,a=e.isSaving;return t?i.default.createElement(m.Button,{secondary:!0,to:"/quotations/".concat(t,"/preview"),disabled:a},i.default.createElement(s.FormattedMessage,{id:"invoices.button.quotation"})):null});t.ShowQuotation=v;var p=(0,d.connect)(function(e){return{isSaving:e.invoices.get("isSaving")}},function(e){return(0,c.bindActionCreators)({archiveOne:f.archiveOne},e)})(function(e){var t=e.invoice,a=e.archiveOne,n=e.isSaving,r=e.icon,c=(0,o.default)(e,["invoice","archiveOne","isSaving","icon"]);if(!t)return null;if(t.get("archivedAt"))return null;var d=t.get("id"),f=(0,u.default)({onClick:function(e){e.preventDefault(),a({id:d})},type:"submit",formMethod:"post",formAction:"/invoices/".concat(d,"/archive"),disabled:n},c);return r?i.default.createElement(m.BtnIcon,(0,l.default)({svgId:"archive"},f)):i.default.createElement(m.Button,f,i.default.createElement(s.FormattedMessage,{id:"invoices.button.archive"}))});t.ArchiveInvoice=p},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductLineEditable=g,t.ProductLineDisplay=E,t.ProductTable=C;var l=r(a(42)),u=r(a(0)),o=r(a(40)),i=a(3),c=r(a(1)),d=r(a(22)),s=n(a(82)),f=n(a(26)),m=a(39),v=a(147),p=a(24),h=n(a(48));function g(e){var t=e.product,a=e.isLast,n=e.index,r=e.handleRemove,l="products[".concat(n,"]"),o=s.productTotal(t);return u.default.createElement(h.Row,null,u.default.createElement(h.Cell,null,!a&&u.default.createElement(m.CheckBox,{name:"".concat(l,"[checked]"),defaultChecked:t.get("checked")})),u.default.createElement(h.Cell,null,u.default.createElement("input",{type:"hidden",name:"".concat(l,"[_id]"),value:t.get("_id")}),u.default.createElement(v.TextareaAutoResize,{name:"".concat(l,"[description]"),defaultValue:t.get("description"),placeholder:"product.place-holder"})),u.default.createElement(h.Cell,null,u.default.createElement("input",{type:"number",min:"0",step:"0.25",name:"".concat(l,"[quantity]"),defaultValue:t.get("quantity")})),u.default.createElement(h.Cell,null,u.default.createElement("input",{type:"number",min:"0",step:"0.5",name:"".concat(l,"[price]"),defaultValue:t.get("price")})),u.default.createElement(h.Cell,null,u.default.createElement(f.Amount,{value:o})),u.default.createElement(h.Cell,null,!a&&u.default.createElement(p.BtnIcon,{linkAlike:!0,onClick:function(e){return r(n,l)},type:"button",svgId:"delete"})))}function E(e){var t=e.product;if(!t.checked)return null;var a=s.productTotal(t);return u.default.createElement(h.Row,null,u.default.createElement(h.Cell,null),u.default.createElement(h.Cell,{type:"text"},u.default.createElement(f.Markdown,{text:t.description})),u.default.createElement(h.Cell,{type:"number"},u.default.createElement(f.Num,{value:t.quantity,minimumFractionDigits:2})),u.default.createElement(h.Cell,{type:"number"},u.default.createElement(f.Num,{value:t.price,minimumFractionDigits:2})),u.default.createElement(h.Cell,{type:"amount"},u.default.createElement(f.Amount,{value:a})),u.default.createElement(h.Cell,null))}function y(e){var t=e.readOnly,a=e.document,n=t?3:4;return u.default.createElement(h.Footer,null,u.default.createElement(h.RowFooter,null,u.default.createElement(h.Cell,{colSpan:n,type:"number"},u.default.createElement(i.FormattedMessage,{id:"table.amount-ht"})),u.default.createElement(h.Cell,{type:"amount"},u.default.createElement(f.Amount,{value:a.totalNet})),!t&&u.default.createElement(h.Cell,null)),u.default.createElement(h.RowFooter,null,u.default.createElement(h.Cell,{colSpan:n,type:"number"},u.default.createElement(i.FormattedMessage,{id:"table.amount-taxes"})),u.default.createElement(h.Cell,{type:"amount"},u.default.createElement(f.Amount,{value:a.totalTax})),!t&&u.default.createElement(h.Cell,null)),u.default.createElement(h.RowFooter,null,u.default.createElement(h.Cell,{colSpan:n,type:"number"},u.default.createElement(i.FormattedMessage,{id:"table.amount"})),u.default.createElement(h.Cell,{type:"amount"},u.default.createElement(f.Amount,{value:a.total})),!t&&u.default.createElement(h.Cell,null)))}g.propTypes={index:c.default.number.isRequired,product:c.default.object.isRequired,isLast:c.default.bool.isRequired,handleRemove:c.default.func.isRequired},E.propTypes={product:c.default.object.isRequired},y.propTypes={document:c.default.object,readOnly:c.default.bool};var b=[{id:"toggle",label:!1,type:"checkbox"},{id:"description",label:"table.header.description",type:"input"},{id:"quantity",label:"table.header.quantity",type:"input number"},{id:"price",label:"table.header.unit-price",type:"input number"},{id:"amount",label:"table.amount",type:"amount"},{id:"remove",label:!1,type:"action"}];function C(e){var t=e.readOnly,a=e.document,n=e.handleRemove,r=a.get("products");if(!d.default.isArray(r))return null;var i=t?["toggle","remove"]:[],c=(0,o.default)("table--product",(0,l.default)({},"table--print",t)),s=t?E:g,f=r.length;return u.default.createElement(h.Wrapper,{columns:b,hideColumns:i,className:c,footer:u.default.createElement(y,e)},r.map(function(e,t){return u.default.createElement(s,{key:e._id,index:t,product:e,isLast:t===f-1,handleRemove:n})}))}C.defaultProps={readOnly:!1},C.propTypes={document:c.default.object,readOnly:c.default.bool}},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=function(e){var t,a=e.warning,n=void 0!==a&&a,i=e.danger,c=void 0!==i&&i,d=e.className,s=(0,u.default)(o,(t={},(0,r.default)(t,"".concat(o,"--warning"),n),(0,r.default)(t,"".concat(o,"--danger"),c),t),d);return l.default.createElement("div",{className:s},e.children)};var r=n(a(42)),l=n(a(0)),u=n(a(40));a(403);var o="alert"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInputValue=function(e){var t=e.name,a=e.checked,r=e.type,l="checkbox"===r?a:"number"===r?(0,n.enforceNumber)(e.value):e.value;return{name:t,value:l}};var n=a(82)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.formData;return r.default.createElement("div",{className:"customer-fields"},r.default.createElement(l.Input,{name:"name",label:"field.name",value:t.name}),r.default.createElement(l.Textarea,{name:"address",label:"field.address",value:t.address}))};var r=n(a(0)),l=a(39)},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormContext=t.FORM_ID=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(20)),s=r(a(0)),f=a(8),m=a(6),v=(a(12),r(a(41))),p=n(a(34)),h=n(a(95)),g=r(a(94)),E=a(33);t.FORM_ID="customer-form";var y=s.default.createContext({});t.FormContext=y;var b=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).state={formData:a.props.customer},a.handleSubmit=a.handleSubmit.bind((0,d.default)((0,d.default)(a))),a.handleFormChange=a.handleFormChange.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=(0,v.default)(e.target,{hash:!0,empty:!0});this.props.saveOne({body:t})}},{key:"handleFormChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){return{formData:e.formData.set(a,n)}})}},{key:"render",value:function(){var e=this.state.formData,t=this.props.isSaving;if(e.isLoading)return s.default.createElement(g.default,null);var a={formData:e,isSaving:t};return s.default.createElement(E.Form,{id:"".concat("customer-form"),isSaving:t,onSubmit:this.handleSubmit,onChange:this.handleFormChange},e.id&&s.default.createElement("input",{type:"hidden",value:e.id,name:"id"}),s.default.createElement(y.Provider,{value:a},this.props.children))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.customer,n=t.formData,r=e.isSaving,l=e.history,u=e.staticContext;return r?null:n===a?null:h.customer({next:a,current:n,history:l,staticContext:u})?null:{formData:a}}}]),(0,u.default)(t,e),t}(s.default.Component);var C=(0,m.connect)(null,function(e){return(0,f.bindActionCreators)({saveOne:p.saveOne},e)})(b);t.default=C},,function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.recomputeSteps=N,t.removeDefaultProducts=O,t.recomputeTotals=M,t.addEmptyLine=I,t.ensureProductId=F,t.default=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(20)),s=r(a(42)),f=r(a(0)),m=a(8),v=a(6),p=r(a(41)),h=r(a(22)),g=r(a(139)),E=r(a(105)),y=n(a(25)),b=n(a(34)),C=n(a(82)),_=n(a(95)),S=a(104),w=a(203),k=a(94),P=a(93),A=(0,h.default)([{key:"sendAt",label:"stepper.sent"},{key:"validatedAt",label:"stepper.validated"},{key:"signedAt",label:"stepper.signed"}]);function N(e){var t=A.map(function(t){return{value:e.get(t.key),key:t.key,label:t.label}});return e.set("steps",t)}function O(e){var t=e.get("productConfig"),a=e.get("products");if(!h.default.isArray(a))return e;if(!h.default.isObject(t))return e;var n=(0,w.filterArrayWithObject)({defaultObject:t,array:a});return e.set("products",n)}function M(e){var t=e.get("products");if(!h.default.isArray(t))return e;var a=C.totals(e);return e.merge(null,a)}function I(e){var t=e.get("productConfig"),a=e.get("products");if(!h.default.isArray(a))return e;if(!h.default.isObject(t))return e;var n=t.set("checked",!0);return e.set("products",a.push(n))}function F(e){var t=e.get("products");if(!h.default.isArray(t))return e;var a=t.map(function(e){return e.get("_id")?e:e.set("_id",(0,E.default)())});return e.set("products",a)}var q=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).state={formData:y.LOADING,customer:(0,h.default)({})},a.handleSubmit=a.handleSubmit.bind((0,d.default)((0,d.default)(a))),a.handleCreateInvoice=a.handleCreateInvoice.bind((0,d.default)((0,d.default)(a))),a.handleFormChange=a.handleFormChange.bind((0,d.default)((0,d.default)(a))),a.handleDayChange=a.handleDayChange.bind((0,d.default)((0,d.default)(a))),a.handleProductRemove=a.handleProductRemove.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=(0,p.default)(e.target,{hash:!0,empty:!0});this.props.saveOne({body:t})}},{key:"handleCreateInvoice",value:function(e){e.preventDefault(),this.props.createInvoice({id:this.props.current.get("id")})}},{key:"handleFormChange",value:function(e){var a=(0,S.getInputValue)(e.target),n=a.name,r=a.value;this.setState(function(e,a){var l=e.formData.set(n,r);return"customerId"===n?{formData:l,customer:t.getCustomerData(l,a.customers)}:/^products\[\d+\]/.test(n)||"tax"===n?{formData:t.recomputeProducts(l)}:{formData:l}})}},{key:"handleDayChange",value:function(e){var a=e.name,n=e.value;this.setState(function(e){var r=e.formData.set(a,n);return{formData:t.recomputeSteps(r)}})}},{key:"handleProductRemove",value:function(e,a){this.state.formData.get(a)&&this.setState(function(a){var n=a.formData.get("products").splice(e,1),r=a.formData.set("products",n);return{formData:t.recomputeProducts(r)}})}},{key:"render",value:function(){var e=this.props,t=this.state,a=t.formData,n=e.isSaving;if(a.isLoading)return f.default.createElement(k.Spinner,null);var r={user:e.user,customers:e.customers,formData:a,isSaving:n,customer:t.customer,isNew:e.isNew,handle:{submit:this.handleSubmit,createInvoice:this.handleCreateInvoice,formChange:this.handleFormChange,dayChange:this.handleDayChange,productRemove:this.handleProductRemove}};return f.default.createElement(P.QuotationFormPres,r)}}],[{key:"getDerivedStateFromProps",value:function(e,a){var n=e.current,r=a.formData,l=e.history,u=e.staticContext,o=e.customers;return e.isSaving?null:r===n?null:(_.quotation({next:n,current:r,history:l,staticContext:u}),{formData:t.recomputeFormData(n),customer:t.getCustomerData(n,o)})}},{key:"getCustomerData",value:function(e,t){if(!Array.isArray(t))return{};var a=e.customerId;return a?t.find(function(e){return e.id===a})||{}:t[0]}}]),(0,u.default)(t,e),t}(f.default.Component);(0,s.default)((0,s.default)((0,s.default)(q,"recomputeSteps",N),"recomputeProducts",(0,g.default)(O,M,I,F)),"recomputeFormData",(0,g.default)(q.recomputeSteps,q.recomputeProducts));var x=(0,v.connect)(function(e){return{isNew:null==e.quotations.current.id,isSaving:e.quotations.get("isSaving"),current:e.quotations.get("current"),customers:e.customers.get("active")}},function(e){return(0,m.bindActionCreators)({getOne:y.getOne,saveOne:y.saveOne,createInvoice:y.createInvoice,getAllCustomers:b.getAll},e)})(q);t.default=x},,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.InvoiceEvents=function(e){var t=e.children,a=(0,l.default)(e,["children"]);return u.default.createElement(i.Table,(0,r.default)({columns:d,footer:u.default.createElement(s,a)},a),t)};var r=n(a(21)),l=n(a(13)),u=n(a(0)),o=a(3),i=a(48),c=(a(24),a(98),a(26)),d=[{id:"id",label:"invoices.event.#",type:"id"},{id:"event",label:"invoices.event",type:"text"},{id:"description",label:"invoices.event.description",type:"input"},{id:"date",label:"invoices.event.date",type:"input date"},{id:"amount",label:"invoices.event.amount",type:"input amount"},{id:"action",label:!1,type:"action"}];function s(e){var t=e.invoice,a=e.hideColumns;return u.default.createElement(i.TableFooter,null,u.default.createElement(i.RowFooter,null,u.default.createElement(i.Cell,{colSpan:"4"},u.default.createElement(o.FormattedMessage,{id:"table.amount.paid"})),u.default.createElement(i.Cell,{type:"amount"},u.default.createElement(c.Amount,{value:t.get("totalPaid")})),!a&&u.default.createElement(i.Cell,null)),u.default.createElement(i.RowFooter,null,u.default.createElement(i.Cell,{colSpan:"4"},u.default.createElement(o.FormattedMessage,{id:"table.amount.left-to-pay"})),u.default.createElement(i.Cell,{type:"amount"},u.default.createElement(c.Amount,{value:t.get("totalLeft")})),!a&&u.default.createElement(i.Cell,null)))}},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.InvoiceHeader=function(e){var t=e.invoice;return l.default.createElement(i.Wrapper,null,l.default.createElement(i.Label,{id:"table.header.customer"}),l.default.createElement(i.Value,null,l.default.createElement(u.Link,{to:"/customers/".concat(t.get("customerId"))},t.get("customer.name"))),l.default.createElement(i.Label,{id:"table.header.quotation-associated"}),l.default.createElement(i.Value,null,l.default.createElement(u.Link,{to:"/quotations/".concat(t.get("quotation.id"))},t.get("quotation.reference"))),l.default.createElement(i.Label,{id:"table.amount"}),l.default.createElement(i.Value,null,l.default.createElement(o.Amount,{value:t.get("total")})),l.default.createElement(i.Label,{id:"table.amount.paid"}),l.default.createElement(i.Value,null,l.default.createElement(o.Amount,{value:t.get("totalPaid")})),l.default.createElement(i.Label,{id:"table.amount.left-to-pay"}),l.default.createElement(i.Value,null,l.default.createElement(o.Amount,{value:t.get("totalLeft")})))};var l=r(a(0)),u=a(12),o=(a(3),n(a(26))),i=n(a(99))},,,function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TextareaAutoResize=void 0;var l=r(a(21)),u=r(a(13)),o=r(a(18)),i=r(a(17)),c=r(a(16)),d=r(a(15)),s=r(a(14)),f=r(a(20)),m=r(a(42)),v=r(a(0)),p=r(a(40)),h=r(a(1)),g=n(a(3));a(415);var E=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,d.default)(this,(0,s.default)(t).call(this,e))).state={autoResize:!1},a.handleChange=a.handleChange.bind((0,f.default)((0,f.default)(a))),a.el=v.default.createRef(),a}return(0,c.default)(t,[{key:"componentDidMount",value:function(){this.setState(function(e){return{autoResize:!0}}),this.recomputeTextareaSize()}},{key:"handleChange",value:function(e){var t=this.props;this.recomputeTextareaSize(),"function"==typeof t.onChange&&t.onChange(e)}},{key:"recomputeTextareaSize",value:function(){var e=this.el.current,t=e.getAttribute("rows");e.setAttribute("rows","1"),e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"),e.scrollTop=e.scrollHeight,e.setAttribute("rows",t)}},{key:"render",value:function(){var e,t=this.props,a=t.className,n=t.placeholder,r=(t.onChange,(0,u.default)(t,["className","placeholder","onChange"])),o=this.state.autoResize,i=(0,p.default)(a,(e={},(0,m.default)(e,"textarea",!0),(0,m.default)(e,"".concat("textarea","--is-auto-resize"),o),e)),c=o&&n;return v.default.createElement("div",{className:i},v.default.createElement("textarea",(0,l.default)({className:"".concat("textarea","__field"),onChange:this.handleChange,ref:this.el},r)),c&&v.default.createElement("p",{className:"".concat("textarea","__placeholder")},v.default.createElement(g.FormattedMessage,{id:n})))}}]),(0,i.default)(t,e),t}(v.default.PureComponent);t.TextareaAutoResize=E,(0,m.default)(E,"propTypes",{placeHolder:h.default.string});var y=E;t.default=y},,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;t.error;E.test(a)&&(console.error("error"),console.log(n));switch(a){case p:var r=e.indexOf(n);return e.splice(r,1);case v.LOGIN.SUCCESS:case v.RESET.SUCCESS:var l=n.user,u=l.name||l.email;return b(e,"notifications.user.welcome",{name:u});case v.REGISTER.SUCCESS:case v.FORGOT.SUCCESS:var o=n.email;return b(e,"notifications.user.mail-sent",{email:o});case s.SAVE_ONE.SUCCESS:return b(e,"notifications.quotation.saved");case s.SAVE_ONE.ERROR:return C(e,"notifications.quotation.error");case s.CREATE_INVOICE.SUCCESS:return b(e,"notifications.quotation.create-invoice.success");case s.CREATE_INVOICE.SUCCESS:return C(e,"notifications.quotation.create-invoice.error");case f.SAVE_ONE.SUCCESS:return b(e,"notifications.invoice.saved");case f.SAVE_ONE.ERROR:return C(e,"notifications.invoice.error");case m.SAVE_ONE.SUCCESS:return b(e,"notifications.customer.saved");case m.SAVE_ONE.ERROR:return C(e,"notifications.customer.error",{additionalContent:n.message})}if(E.test(a))return C(e,"notifications.generic.error",{additionalContent:n.message});if(g.test(a))return b(e,"notifications.generic.saved");return e},t.removeOne=t.ALL_POST=t.REMOVE=void 0;var r=n(a(50)),l=n(a(49)),u=n(a(36)),o=n(a(22)),i=n(a(105)),c=n(a(58)),d=n(a(71)),s=a(25),f=a(31),m=a(34),v=a(35),p="@".concat(c.default.APP_NAME,"/").concat("notifications","/remove");t.REMOVE=p;var h=(0,d.default)("[_a-zA-Z0-9]+","post","[_a-zA-Z0-9]+");t.ALL_POST=h;var g=new RegExp("^".concat(h.SUCCESS,"$")),E=new RegExp("^".concat(h.ERROR,"$")),y=(0,o.default)([]);function b(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.push((0,u.default)({_id:(0,i.default)(),i18nId:t},a))}function C(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.push((0,u.default)({_id:(0,i.default)(),error:!0,i18nId:t},a))}t.removeOne=function(e){return t=(0,l.default)(r.default.mark(function t(a){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:p,payload:e});case 1:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)};var t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(8),u=r(a(34)),o=r(a(25)),i=r(a(31)),c=r(a(149)),d=n(a(35)),s=(0,l.combineReducers)({customers:u.default,quotations:o.default,invoices:i.default,notifications:c.default,account:d.default}),f=function(e,t){return t.type===d.LOGOUT.SUCCESS&&(e=void 0),t.type===d.AUTH.ERROR&&(e=void 0),s(e,t)};t.default=f},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=a(12),u=(a(9),n(a(51))),o=function(){return r.default.createElement(l.Route,{render:function(e){var t=e.staticContext;return t&&(t.status=404),r.default.createElement(u.default,{title:"404"},r.default.createElement("h2",null,"not found"))}})};t.default=o},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.CustomerHeader=function(e){var t=e.customer;return l.default.createElement(o.Wrapper,null,l.default.createElement(o.Label,{id:"customer.total.quotation"}),l.default.createElement(o.Value,null,l.default.createElement(u.Amount,{value:t.get("quotationsTotal")})),l.default.createElement(o.Label,{id:"customer.total.invoice"}),l.default.createElement(o.Value,null,l.default.createElement(u.Amount,{value:t.get("invoicesTotal")})),l.default.createElement(o.Label,{id:"customer.total.to-be-paid"}),l.default.createElement(o.Value,null,l.default.createElement(u.Amount,{value:t.get("invoicesTotalLeft")})),l.default.createElement(o.Label,{id:"customer.total.progress"}),l.default.createElement(o.Value,null,l.default.createElement(i.Progress,{value:t.get("invoicesTotalPaid"),max:t.get("invoicesTotal")})))};var l=r(a(0)),u=n(a(26)),o=n(a(99)),i=a(56)},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=(a(8),a(6)),o=a(3),i=a(9),c=r(a(19)),d=n(a(34)),s=n(a(25)),f=n(a(31)),m=n(a(69)),v=r(a(23)),p=a(27),h=n(a(81)),g=(a(26),a(56),a(68)),E=a(80),y=n(a(138)),b=r(a(137)),C=a(189),_="customers";var S=(0,u.connect)(function(e){return{isSaving:e.customers.get("isSaving"),customer:e.customers.get("current")}})((0,c.default)({Component:function(e){var t=e.customer,a={id:"page.customers.edit",values:{name:t.get("name")}};return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,a,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e))}),l.default.createElement(v.default,{title:l.default.createElement(o.FormattedMessage,a)},l.default.createElement(p.ButtonSubmit,{formId:y.FORM_ID,isSaving:e.isSaving,label:"_.save"}),l.default.createElement(p.ButtonList,{type:_,label:"customer.button.list"}),l.default.createElement(p.ButtonNew,{type:_,icon:!0,secondary:!0,label:"customer.button.new"})),l.default.createElement(y.default,e,l.default.createElement(h.Wrapper,null,l.default.createElement(h.List,null,l.default.createElement(h.Header,null,l.default.createElement(C.CustomerHeader,{customer:t})),l.default.createElement(h.Tab,null,l.default.createElement(o.FormattedMessage,{id:"_.quotations"})),l.default.createElement(h.Tab,null,l.default.createElement(o.FormattedMessage,{id:"_.invoices"})),l.default.createElement(h.Tab,null,l.default.createElement(o.FormattedMessage,{id:"customer.tab.configuration"}))),l.default.createElement(h.Panel,null,l.default.createElement(g.CustomerQuotations,null)),l.default.createElement(h.Panel,null,l.default.createElement(E.CustomerInvoices,null)),l.default.createElement(h.Panel,null,l.default.createElement(y.FormContext.Consumer,null,function(e){return l.default.createElement(l.default.Fragment,null,l.default.createElement(b.default,e),l.default.createElement(m.Sheet,{part:"top"},l.default.createElement(m.Between,null,l.default.createElement(m.User,null),l.default.createElement(m.Party,{title:"to",people:e.formData}))))})))))},actionCreators:[d.getOne,s.listForCustomer,f.listForCustomer]}));t.default=S},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=a(6),o=a(3),i=a(9),c=r(a(19)),d=n(a(34)),s=a(69),f=a(32),m=r(a(23)),v=a(27),p=n(a(138)),h=r(a(137));var g=(0,u.connect)(function(e){return{isSaving:e.customers.get("isSaving"),customer:e.customers.get("current")}})((0,c.default)({Component:function(e){e.intl;var t={id:"page.customers.new"};return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,t,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e))}),l.default.createElement(m.default,{title:l.default.createElement(o.FormattedMessage,t)},l.default.createElement(v.ButtonSubmit,{formId:p.FORM_ID,isSaving:e.isSaving,label:"_.create"}),l.default.createElement(v.ButtonList,{type:"customers",label:"customer.button.list"})),l.default.createElement(p.default,e,l.default.createElement(f.Main,{withMeta:!0},l.default.createElement(f.Meta,null,l.default.createElement(p.FormContext.Consumer,null,function(e){return l.default.createElement(h.default,e)})),l.default.createElement(f.Content,null,l.default.createElement(s.PaperSheet,{part:"top"},l.default.createElement(s.Between,null,l.default.createElement(s.PartyUser,null),l.default.createElement(p.FormContext.Consumer,null,function(e){return l.default.createElement(s.Party,{title:"to",people:e.formData})})))))))},actionCreators:[d.getOne]}));t.default=g},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveCustomers=void 0;var l=r(a(21)),u=r(a(13)),o=r(a(0)),i=a(12),c=a(6),d=a(8),s=n(a(34)),f=a(48),m=a(26),v=a(56);function p(e){var t=e.customer,a="/customers/".concat(t.id);return o.default.createElement(f.Row,null,o.default.createElement(f.Cell,null,o.default.createElement(i.Link,{to:a},t.name)),o.default.createElement(f.Cell,null,o.default.createElement(m.FormatNumber,{value:t.quotationsCount})),o.default.createElement(f.Cell,null,o.default.createElement(m.Amount,{value:t.quotationsTotal})),o.default.createElement(f.Cell,null,o.default.createElement(m.FormatNumber,{value:t.invoicesCount})),o.default.createElement(f.Cell,null,o.default.createElement(m.Amount,{value:t.get("invoicesTotal")})),o.default.createElement(f.Cell,null,o.default.createElement(v.Progress,{tableLayout:!0,value:t.get("invoicesTotalPaid"),max:t.get("invoicesTotal")})))}var h=[{id:"name",label:"table.header.name",sort:"name"},{id:"quotations",label:"table.header.quotations",type:"number"},{id:"quotations-total",label:"table.header.cumulative-amount",type:"amount"},{id:"invoices",label:"table.header.invoices",type:"number"},{id:"invoices-total",label:"table.header.cumulative-amount",type:"amount"},{id:"invoices-paid",label:"table.amount.paid",type:"progress"}];var g=(0,c.connect)(function(e){return{customers:e.customers.get("active"),meta:e.customers.get("meta.active")}},function(e){return(0,d.bindActionCreators)({handlePageSort:s.getAll},e)})(function(e){var t=e.customers,a=void 0===t?[]:t,n=(0,u.default)(e,["customers"]);return o.default.createElement(f.Table,(0,l.default)({presentation:!0,columns:h},n),a.map(function(e){return o.default.createElement(p,{key:e.id,customer:e})}))});t.ActiveCustomers=g},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=(a(8),a(6)),o=(a(12),a(3)),i=a(9),c=r(a(19)),d=n(a(34)),s=a(32),f=r(a(23)),m=a(27),v=a(192),p="customers";var h=(0,u.connect)()((0,c.default)({Component:function(e){var t={id:"page.customers"};return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,t,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e))}),l.default.createElement(f.default,{title:l.default.createElement(o.FormattedMessage,t)},l.default.createElement(m.ButtonNew,{type:p,message:"customer.button.new"})),l.default.createElement(s.Main,null,l.default.createElement(s.Content,null,l.default.createElement(v.ActiveCustomers,null))))},actionCreators:[d.getAll]}));t.default=h},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=a(6),o=a(3),i=a(9),c=r(a(19)),d=n(a(31)),s=a(32),f=r(a(23)),m=a(27),v=a(67),p="invoices";var h=(0,u.connect)(function(e){return{invoice:e.invoices.get("current")}})((0,c.default)({Component:function(e){var t=e.invoice,a=t.get("reference"),n=(e.match.params.id,{id:"page.invoices.preview",values:{reference:a}});return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,n,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e),l.default.createElement("html",{className:"dark-background"}))}),l.default.createElement(f.default,{title:l.default.createElement(o.FormattedMessage,n)},l.default.createElement(m.ButtonEdit,{type:p,document:t,label:"_.edit"}),l.default.createElement(m.ButtonPrint,null),l.default.createElement(m.ButtonList,{type:p,label:"invoices.button.list"})),l.default.createElement(s.Main,null,l.default.createElement(s.Content,null,l.default.createElement(v.PrintingNotice,null),l.default.createElement(v.Preview,{type:"invoice",document:t}))))},actionCreators:[d.getOne]}));t.default=h},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Sent=function(e){var t=e.invoice,a=e.handle;return l.default.createElement(o.Row,null,l.default.createElement(o.Cell,null),l.default.createElement(o.Cell,null,l.default.createElement(u.FormattedMessage,{id:"invoices.event.sent"})),l.default.createElement(o.Cell,{type:"text"}," â€“ "),l.default.createElement(o.Cell,null,l.default.createElement(i.DatePicker,{name:"sendAt",value:t.get("sendAt"),handleDayChange:a.dayChange})),l.default.createElement(o.Cell,{type:"number"}," â€“ "),l.default.createElement(o.Cell,null))},t.Payment=function(e){var t=e.payment,a=e.handle,n=e.index,r=e.notLast;return l.default.createElement(o.Row,{key:t.get("_id")},l.default.createElement(o.Cell,null,l.default.createElement("input",{type:"hidden",name:"".concat(t._fieldPath,"[_id]"),value:t.get("_id")}),n+1),l.default.createElement(o.Cell,null,l.default.createElement(u.FormattedMessage,{id:"invoices.event.payment"})),l.default.createElement(o.Cell,null,l.default.createElement("input",{type:"text",key:"".concat(t._fieldPath,"-").concat(t.get("_id"),"-message"),name:"".concat(t._fieldPath,"[message]"),defaultValue:t.get("message")})),l.default.createElement(o.Cell,null,l.default.createElement(i.DatePicker,{name:"".concat(t._fieldPath,"[date]"),value:t.get("date"),handleDayChange:a.dayChange})),l.default.createElement(o.Cell,null,l.default.createElement("input",{type:"number",key:"".concat(t._fieldPath,"-").concat(t.get("_id")),name:"".concat(t._fieldPath,"[amount]"),defaultValue:t.get("amount")})),l.default.createElement(o.Cell,null,r&&l.default.createElement(c.BtnIcon,{linkAlike:!0,onClick:function(e){return a.removePayment(n,t._fieldPath)},type:"button",svgId:"delete"})))};var l=r(a(0)),u=a(3),o=n(a(48)),i=a(98),c=a(24)},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.invoice,a=e.handle,n=t.get("payments");return l.default.createElement(s.Wrapper,null,l.default.createElement(s.List,null,l.default.createElement(s.Header,null,l.default.createElement(m.InvoiceHeader,{invoice:t})),l.default.createElement(s.Tab,null,l.default.createElement(u.FormattedMessage,{id:"invoices.tab.payments"})),l.default.createElement(s.Tab,null,l.default.createElement(u.FormattedMessage,{id:"invoices.tab.preview"}))),l.default.createElement(s.Panel,null,l.default.createElement(c.Progress,{max:t.get("total"),value:t.get("totalPaid")}),l.default.createElement(v.InvoiceEvents,{invoice:t},l.default.createElement(p.Sent,{invoice:t,handle:a}),n.map(function(e,t){return l.default.createElement(p.Payment,{key:e._id,payment:e,index:t,notLast:t<n.length-1,handle:a})})),l.default.createElement(o.FormActions,null,l.default.createElement(i.Button,{type:"submit"},l.default.createElement(u.FormattedMessage,{id:"invoices.button.save"})),l.default.createElement(f.ShowQuotation,null),l.default.createElement(f.ArchiveInvoice,{danger:!0,invoice:t}))),l.default.createElement(s.Panel,null,l.default.createElement(d.Preview,{type:"invoice",document:t})))},t.BASE_CLASS=void 0;var l=r(a(0)),u=(a(12),a(3)),o=a(33),i=a(24),c=a(56),d=a(67),s=n(a(81)),f=a(101),m=a(144),v=a(143),p=n(a(195));t.BASE_CLASS="invoice-form"},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FORM_ID=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(20)),s=r(a(42)),f=r(a(0)),m=r(a(139)),v=r(a(22)),p=r(a(105)),h=r(a(41)),g=a(8),E=a(6),y=n(a(31)),b=n(a(95)),C=a(104),_=a(33),S=a(94),w=r(a(196));function k(e){var t=e.get("payments");if(!v.default.isArray(t))return e;var a=e.get("total"),n=t.reduce(function(e,t){return parseFloat(t.amount,10)+e},0),r=a-n;return e.set("totalPaid",n).set("totalLeft",r)}function P(e){var t=e.get("payments");if(!v.default.isArray(t))return e;var a=t.map(function(e,t){return e.set("_fieldPath","payments[".concat(t,"]"))});return e.set("payments",a)}t.FORM_ID="invoice-form";var A=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).state={formData:t.updatePayments(e.invoice)},a.handleSubmit=a.handleSubmit.bind((0,d.default)((0,d.default)(a))),a.handleFormChange=a.handleFormChange.bind((0,d.default)((0,d.default)(a))),a.handleDayChange=a.handleDayChange.bind((0,d.default)((0,d.default)(a))),a.handleRemovePayment=a.handleRemovePayment.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=(0,h.default)(e.target,{hash:!0,empty:!0});this.props.save({body:t})}},{key:"handleFormChange",value:function(e){var a=(0,C.getInputValue)(e.target),n=a.name,r=a.value;this.setState(function(e){var a=e.formData.set(n,r);return t.isPaymentFieldName(n)&&(a=t.updatePayments(a)),{formData:a}})}},{key:"handleDayChange",value:function(e){return this.handleFormChange({target:e})}},{key:"handleRemovePayment",value:function(e){this.setState(function(a){var n=a.formData;return{formData:t.removeLine({formData:n,index:e})}})}},{key:"render",value:function(){var e=this.props,t=e.isSaving,a=e.isLoading,n=this.state.formData;if(a)return f.default.createElement(S.Spinner,null);var r={invoice:n,handle:{dayChange:this.handleDayChange,removePayment:this.handleRemovePayment}};return f.default.createElement(_.Form,{id:"invoice-form",isSaving:t,onChange:this.handleFormChange,onSubmit:this.handleSubmit},f.default.createElement("input",{type:"hidden",defaultValue:n.get("id"),name:"id"}),f.default.createElement(w.default,r))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var n=e.invoice,r=a.formData,l=e.history,u=e.staticContext;return e.isSaving?null:r===n?null:(b.invoice({next:n,current:r,history:l,staticContext:u}),{formData:t.updatePayments(n)})}},{key:"isPaymentFieldName",value:function(e){return/^payments\[\d+\]/.test(e)}}]),(0,u.default)(t,e),t}(f.default.Component);(0,s.default)((0,s.default)(A,"updatePayments",(0,m.default)(function(e){var t=e.get("payments");if(!v.default.isArray(t))return e;var a=t.filter(function(e){return e.message||e.date||e.amount}).map(function(e){return e._id?e:e.set("_id",(0,p.default)())}).push((0,v.default)({_id:(0,p.default)(),message:"",date:"",amount:0}));return e.set("payments",a)},P,k)),"removeLine",(0,m.default)(function(e){var t=e.index,a=e.formData,n=a.get("payments");return v.default.isArray(n)?a.set("payments",n.splice(t,1)):a},P,k));var N=(0,E.connect)(function(e){return{isSaving:e.invoices.get("isSaving"),invoice:e.invoices.get("current"),isLoading:e.invoices.get("current.isLoading")}},function(e){return(0,g.bindActionCreators)({save:y.saveOne},e)})(A);t.default=N},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(13)),u=r(a(0)),o=(a(8),a(6)),i=a(3),c=a(9),d=r(a(19)),s=n(a(31)),f=r(a(23)),m=a(27),v=n(a(197)),p=a(101),h="invoices";var g=(0,o.connect)(function(e){return{invoice:e.invoices.get("current"),isSaving:e.invoices.get("isSaving")}})((0,d.default)({Component:function(e){var t=e.match.params.id,a=e.invoice,n=(0,l.default)(e,["invoice"]),r={id:"page.invoices.edit",values:{reference:a.get("reference")}};return u.default.createElement(u.default.Fragment,null,u.default.createElement(i.FormattedMessage,r,function(e){return u.default.createElement(c.Helmet,null,u.default.createElement("title",null,e))}),u.default.createElement(f.default,{title:u.default.createElement(i.FormattedMessage,r)},u.default.createElement(m.ButtonSubmit,{formId:v.FORM_ID,isSaving:e.isSaving,label:"_.save"}),u.default.createElement(p.ArchiveInvoice,{icon:!0,danger:!0,form:v.FORM_ID,invoice:a,label:"invoices.button.archive"}),u.default.createElement(p.ShowQuotation,null),u.default.createElement(m.ButtonPreview,{type:h,id:t,label:"invoices.button.preview"}),u.default.createElement(m.ButtonList,{type:h,label:"invoices.button.list"})),u.default.createElement(v.default,n))},actionCreators:[s.getOne]}));t.default=g},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=(a(8),a(6)),o=(a(12),a(3)),i=a(9),c=r(a(19)),d=n(a(25)),s=n(a(31)),f=a(32),m=a(23),v=a(68),p=a(80);var h=(0,u.connect)(function(e){return{}})((0,c.default)({Component:function(e){var t={id:"page.invoices"};return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,t,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e))}),l.default.createElement(m.NavSecondary,{title:l.default.createElement(o.FormattedMessage,t)}),l.default.createElement(f.Main,null,l.default.createElement(f.Content,null,l.default.createElement(p.ActiveInvoices,null),l.default.createElement(v.QuotationsReadyToInvoice,null))))},actionCreators:[s.listActive,d.listReadyToInvoice]}));t.default=h},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=a(6),o=a(3),i=a(9),c=r(a(19)),d=n(a(25)),s=a(32),f=r(a(23)),m=a(27),v=(a(103),a(67)),p="quotations";var h=(0,u.connect)(function(e){return{quotation:e.quotations.get("current")}})((0,c.default)({Component:function(e){e.match.params.id;var t=e.quotation,a={id:"page.quotations.preview",values:{reference:t.get("reference")}};return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,a,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e),l.default.createElement("html",{className:"dark-background"}))}),l.default.createElement(f.default,{title:l.default.createElement(o.FormattedMessage,a)},l.default.createElement(m.ButtonEdit,{type:p,document:t,label:"_.edit"}),l.default.createElement(m.ButtonPrint,null),l.default.createElement(m.ButtonList,{type:p,label:"quotation.button.list"}),l.default.createElement(m.ButtonNew,{type:p,secondary:!0,icon:!0,label:"quotation.button.new"})),l.default.createElement(s.Main,null,l.default.createElement(s.Content,null,l.default.createElement(v.PrintingNotice,null),l.default.createElement(v.Preview,{type:"quotation",document:t}))))},actionCreators:[d.getOne]}));t.default=h},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(13)),u=r(a(0)),o=a(6),i=a(3),c=a(9),d=r(a(19)),s=n(a(25)),f=n(a(34)),m=r(a(23)),v=a(27),p=r(a(140)),h=a(93),g=a(100),E="quotations";var y=(0,o.connect)(function(e){return{quotation:e.quotations.get("current"),isSaving:e.quotations.get("isSaving")}})((0,d.default)({Component:function(e){var t=e.quotation,a=(0,l.default)(e,["quotation"]),n=e.match.params.id,r={id:"page.quotations.edit",values:{reference:t.get("reference")}};return u.default.createElement(u.default.Fragment,null,u.default.createElement(i.FormattedMessage,r,function(e){return u.default.createElement(c.Helmet,null,u.default.createElement("title",null,e))}),u.default.createElement(m.default,{title:u.default.createElement(i.FormattedMessage,r)},u.default.createElement(v.ButtonSubmit,{formId:h.FORM_ID,isSaving:e.isSaving,label:"_.save"}),u.default.createElement(g.ShowInvoice,{withMessage:!0,quotation:t}),u.default.createElement(g.ArchiveQuotation,{icon:!0,danger:!0,quotation:t,form:h.FORM_ID,label:"quotation.button.archive"}),u.default.createElement(g.CreateInvoice,{quotation:t,form:h.FORM_ID}),u.default.createElement(v.ButtonPreview,{type:E,id:n,label:"quotation.button.preview"}),u.default.createElement(v.ButtonList,{type:E,label:"quotation.button.list"}),u.default.createElement(v.ButtonNew,{type:E,secondary:!0,icon:!0,label:"quotation.button.new"})),u.default.createElement(p.default,a))},actionCreators:[s.getOne,f.getAll]}));t.default=y},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Step=b,t.Stepper=t.RADIO_CLASS=t.CHECKED_CLASS=void 0;var r=n(a(21)),l=n(a(13)),u=n(a(18)),o=n(a(17)),i=n(a(16)),c=n(a(15)),d=n(a(14)),s=n(a(20)),f=n(a(0)),m=a(3),v=a(98);a(382);var p="stepper",h="".concat(p,"--is-all-checked");t.CHECKED_CLASS=h;var g="".concat(p,"__input");t.RADIO_CLASS=g;var E="stepper-display-form",y=function(e){function t(e){var a;return(0,u.default)(this,t),(a=(0,c.default)(this,(0,d.default)(t).call(this,e))).handleChange=a.handleChange.bind((0,s.default)((0,s.default)(a))),a.state={currentStep:0,isAllChecked:!1},a}return(0,i.default)(t,[{key:"handleChange",value:function(e,t){e.stopPropagation(),this.setState(function(e){return{currentStep:t,isAllChecked:!1}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.steps,n=(0,l.default)(t,["steps"]),u=this.state,o=u.currentStep,i=u.isAllChecked,c=[p];return i&&c.push(h),f.default.createElement("div",{className:c.join(" ")},a.map(function(t,a){return f.default.createElement(b,(0,r.default)({key:t.key,checked:a===o,index:a,step:t,handleChange:function(t){return e.handleChange(t,a)}},n))}))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var n=e.steps;if(!Array.isArray(n))return a;var r=t.getSelectedIndex(n);return{currentStep:r,isAllChecked:r===n.length}}},{key:"getSelectedIndex",value:function(e){var t=0;return e.some(function(e,a){var n=null==e.value||""===e.value;return n&&(t=a),n})?t:e.length}}]),(0,o.default)(t,e),t}(f.default.Component);function b(e){var t=e.step,a=e.checked,n=e.index,r=e.handleDayChange,l="".concat(t.key,"-").concat(n);return f.default.createElement(f.default.Fragment,null,f.default.createElement("input",{id:l,name:E,className:"".concat(g),type:"radio",checked:a,onChange:e.handleChange}),f.default.createElement("div",{className:"".concat(p,"__step")},f.default.createElement("label",{className:"".concat(p,"__button"),htmlFor:l},t.label&&f.default.createElement(m.FormattedMessage,{id:t.label})),f.default.createElement("div",{className:"".concat(p,"__content")},f.default.createElement(v.DatePicker,{value:t.value,name:t.key,handleDayChange:function(e){return r(e)}}))))}t.Stepper=y},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.filterArrayWithObject=void 0;var r=n(a(162)),l=n(a(131)),u=(n(a(108)),n(a(22))),o=function(e){var t=e.defaultObject,a=e.array;if(!u.default.isArray(a))return(0,u.default)([]);if(!u.default.isObject(t))return a;var n=t.entries();return a.map(function(e){return t.merge(null,e)}).map(function(e){return n.forEach(function(t){var a=(0,l.default)(t,2),n=a[0],u=a[1];switch((0,r.default)(u)){case"number":return e=e.set(n,parseFloat(e[n],10));case"string":return e=e.set(n,"".concat(e[n]))}}),e}).filter(function(e){return!n.map(function(t){var a=(0,l.default)(t,2),n=a[0];return a[1]===e.get(n)}).reduce(function(e,t){return e&&t},!0)})};t.filterArrayWithObject=o;var i=o;t.default=i},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=(a(8),a(6)),o=a(3),i=a(9),c=r(a(19)),d=n(a(25)),s=n(a(34)),f=r(a(23)),m=a(27),v=r(a(140)),p=a(93),h="quotations";var g=(0,u.connect)(function(e){return{isSaving:e.quotations.isSaving}})((0,c.default)({Component:function(e){var t={id:"page.quotations.new"};return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,t,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e))}),l.default.createElement(f.default,{title:l.default.createElement(o.FormattedMessage,t)},l.default.createElement(m.ButtonSubmit,{formId:p.FORM_ID,isSaving:e.isSaving,label:"quotation.button.create"}),l.default.createElement(m.ButtonList,{type:h,label:"quotation.button.list"})),l.default.createElement(v.default,e))},actionCreators:[s.getAll,d.getOne]}));t.default=g},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=(a(8),a(6)),o=(a(12),a(3)),i=a(9),c=r(a(19)),d=n(a(25)),s=a(32),f=a(23),m=a(27),v=a(68),p="quotations";var h=(0,u.connect)(function(e){return{}})((0,c.default)({Component:function(e){var t={id:"page.quotations"};return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,t,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e))}),l.default.createElement(f.NavSecondary,{title:l.default.createElement(o.FormattedMessage,t)},l.default.createElement(m.ButtonNew,{type:p,message:"quotation.button.new"})),l.default.createElement(s.Main,null,l.default.createElement(s.Content,null,l.default.createElement(v.ActiveQuotations,null),l.default.createElement(v.QuotationsReadyToInvoice,null))))},actionCreators:[d.listActive,d.listReadyToInvoice]}));t.default=h},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Sent=function(e){var t=e.invoice;e.handle;return l.default.createElement(o.Row,null,l.default.createElement(o.Cell,null),l.default.createElement(o.Cell,null,l.default.createElement(u.FormattedMessage,{id:"invoices.event.sent"})),l.default.createElement(o.Cell,{type:"text"}," â€“ "),l.default.createElement(o.Cell,null,l.default.createElement(i.Day,{value:t.get("sendAt")})),l.default.createElement(o.Cell,{type:"number"}," â€“ "))},t.Payment=function(e){var t=e.payment,a=e.count;return l.default.createElement(o.Row,null,l.default.createElement(o.Cell,null,a),l.default.createElement(o.Cell,null,l.default.createElement(u.FormattedMessage,{id:"invoices.event.payment"})),l.default.createElement(o.Cell,{type:"text"},t.get("message")),l.default.createElement(o.Cell,{type:"date"},l.default.createElement(i.Day,{value:t.get("date")})),l.default.createElement(o.Cell,{type:"amount"},l.default.createElement(i.Amount,{value:t.get("amount")})))};var l=r(a(0)),u=a(3),o=n(a(48)),i=n(a(26))},,,,,,,,,,,,function(e,t,a){var n={"./fr.js":142};function r(e){var t=l(e);return a(t)}function l(e){var t=n[e];if(!(t+1)){var a=new Error('Cannot find module "'+e+'".');throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=218},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=a(6),o=(a(12),a(3)),i=a(9),c=r(a(19)),d=n(a(31)),s=a(23),f=n(a(27)),m=(n(a(32)),n(a(81))),v=a(56),p=a(67),h=a(144),g=a(143),E=n(a(206));var y=(0,u.connect)(function(e){return{invoice:e.invoices.get("current")}})((0,c.default)({Component:function(e){var t=e.invoice,a=t.get("payments"),n={id:"page.archived"};return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,n,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e),l.default.createElement("html",{className:"light-background"}))}),l.default.createElement(s.NavSecondary,{title:l.default.createElement(o.FormattedMessage,n)},l.default.createElement(f.New,{type:"quotations",message:"quotation.button.new"}),l.default.createElement(f.Print,null)),l.default.createElement(m.Wrapper,null,l.default.createElement(m.List,null,l.default.createElement(m.Header,null,l.default.createElement(h.InvoiceHeader,{invoice:t})),l.default.createElement(m.Tab,null,l.default.createElement(o.FormattedMessage,{id:"invoices.tab.payments"})),l.default.createElement(m.Tab,null,l.default.createElement(o.FormattedMessage,{id:"invoices.tab.preview"}))),l.default.createElement(m.Panel,null,l.default.createElement(v.Progress,{max:t.get("total"),value:t.get("totalPaid")}),l.default.createElement(g.InvoiceEvents,{invoice:t,hideColumns:["action"]},l.default.createElement(E.Sent,{invoice:t}),a.map(function(e,t){return l.default.createElement(E.Payment,{key:e._id,payment:e,count:t+1})}))),l.default.createElement(m.Panel,null,l.default.createElement(p.Preview,{type:"invoice",document:t}))))},actionCreators:[d.getOne]}));t.default=y},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=a(6),o=a(12),i=a(3),c=a(9),d=r(a(19)),s=n(a(25)),f=a(23),m=n(a(27)),v=n(a(32)),p=a(67),h=n(a(99)),g=n(a(26));var E=(0,u.connect)(function(e){return{quotation:e.quotations.get("current")}})((0,d.default)({Component:function(e){var t=e.quotation,a={id:"page.archived"};return l.default.createElement(l.default.Fragment,null,l.default.createElement(i.FormattedMessage,a,function(e){return l.default.createElement(c.Helmet,null,l.default.createElement("title",null,e),l.default.createElement("html",{className:"light-background"}))}),l.default.createElement(f.NavSecondary,{title:l.default.createElement(i.FormattedMessage,a)},l.default.createElement(m.New,{type:"quotations",message:"quotation.button.new"}),l.default.createElement(m.Print,null)),l.default.createElement(v.Wrapper,null,l.default.createElement(v.Meta,null,l.default.createElement(h.Wrapper,null,l.default.createElement(h.Label,{id:"key-pres.customer"}),l.default.createElement(h.Value,null,l.default.createElement(o.Link,{to:"/customers/".concat(t.get("customerId"))},t.get("customer.name"))),t.get("invoiceId")&&l.default.createElement(l.default.Fragment,null,l.default.createElement(h.Label,{id:"key-pres.associated.invoice"}),l.default.createElement(h.Value,null,l.default.createElement(o.Link,{to:"/invoices/".concat(t.get("invoiceId"))},t.get("invoice.reference")))),l.default.createElement(h.Label,{id:"key-pres.sent"}),l.default.createElement(h.Value,null,l.default.createElement(g.Day,{value:t.get("sendAt")})),l.default.createElement(h.Label,{id:"key-pres.validated"}),l.default.createElement(h.Value,null,l.default.createElement(g.Day,{value:t.get("validatedAt")})),l.default.createElement(h.Label,{id:"key-pres.signed"}),l.default.createElement(h.Value,null,l.default.createElement(g.Day,{value:t.get("signedAt")})),l.default.createElement(h.Label,{id:"key-pres.total"}),l.default.createElement(h.Value,null,l.default.createElement(g.Amount,{value:t.get("total")})))),l.default.createElement(v.Content,null,l.default.createElement(p.Preview,{type:"quotation",document:t}))))},actionCreators:[s.getOne]}));t.default=E},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=a(6),o=(a(12),a(3)),i=a(9),c=r(a(19)),d=n(a(25)),s=n(a(31)),f=a(23),m=a(27),v=a(32),p=a(68),h=a(80);var g=(0,u.connect)()((0,c.default)({Component:function(e){var t={id:"page.archived"};return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,t,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e))}),l.default.createElement(f.NavSecondary,{title:l.default.createElement(o.FormattedMessage,t)},l.default.createElement(m.ButtonNew,{type:"quotations",message:"quotation.button.new"})),l.default.createElement(v.Main,null,l.default.createElement(v.Content,null,l.default.createElement(p.ArchivedQuotations,{title:"page.quotations"}),l.default.createElement(h.ArchivedInvoices,{title:"page.invoices"}))))},actionCreators:[d.listArchived,s.listArchived]}));t.default=g},,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.PieChartDefs=function(e){return f.default.createElement("svg",{viewBox:"-1 -1 2 2",className:"".concat(h,"__defs")},f.default.createElement("defs",null,f.default.createElement("clipPath",{id:"pie-clip-all"},f.default.createElement("circle",{cx:"0",cy:"0",r:"1"}))))},t.PieChart=void 0;var r=n(a(36)),l=n(a(131)),u=n(a(18)),o=n(a(17)),i=n(a(16)),c=n(a(15)),d=n(a(14)),s=n(a(145)),f=n(a(0)),m=a(3),v=n(a(222)),p=a(26);a(393);var h="pie-chart";function g(e,t){return(0,s.default)(t.value)?t.value+e:0}var E=function(e){function t(e){var a;return(0,u.default)(this,t),(a=(0,c.default)(this,(0,d.default)(t).call(this,e))).state={total:null,slices:[]},a}return(0,i.default)(t,[{key:"createSlices",value:function(){var e=0;return this.state.slices.map(function(a,n){if(1===a.percent)return f.default.createElement("circle",{key:"index",className:"".concat(h,"__slice"),cx:"0",cy:"0",r:"1"});var r=t.getCoordinates(e),u=(0,l.default)(r,2),o=u[0],i=u[1];e+=a.percent;var c=t.getCoordinates(e),d=(0,l.default)(c,2),s=d[0],m=d[1],v=a.percent>.5?1:0,p=["M ".concat(o," ").concat(i),"A 1 1 0 ".concat(v," 1 ").concat(s," ").concat(m)].join(" ");return f.default.createElement("path",{className:"".concat(h,"__slice"),key:n,d:p})})}},{key:"createLabels",value:function(){var e=this.state.slices;return f.default.createElement("ol",{className:"".concat(h,"__list")},e.map(function(e,t){return f.default.createElement("li",{key:t,className:"".concat(h,"__list_item")},f.default.createElement("div",{className:"".concat(h,"__label")},f.default.createElement(m.FormattedMessage,{id:e.label})),f.default.createElement(p.Percent,{className:"".concat(h,"__value"),value:e.percent}))}))}},{key:"render",value:function(){var e=this.props;return f.default.createElement("div",{className:h},f.default.createElement("p",{className:"".concat(h,"__title")},f.default.createElement(m.FormattedMessage,{id:e.title})),f.default.createElement("figure",{className:"".concat(h,"__pie-wrapper")},f.default.createElement("svg",{viewBox:"-1 -1 2 2",className:"".concat(h,"__pie")},f.default.createElement("g",{clipPath:"url(#pie-clip-all)"},f.default.createElement("circle",{cx:"0",cy:"0",r:"1",className:"".concat(h,"__pie-bg")}),this.createSlices())),e.children&&f.default.createElement("figcaption",{className:"".concat(h,"__pie-caption")},e.children)),this.createLabels())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.slices.map(function(e){return e.value=(0,s.default)(e.value)?e.value:0,e}),n=a.reduce(g,0);return{total:n,slices:a.map(function(e){return(0,r.default)({},e,{percent:n?(0,v.default)(e.value/n,4):0})})}}},{key:"getCoordinates",value:function(e){var t=Math.cos(2*Math.PI*e),a=Math.sin(2*Math.PI*e);return[(0,v.default)(t,8),(0,v.default)(a,8)]}}]),(0,o.default)(t,e),t}(f.default.PureComponent);t.PieChart=E},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.HomeCharts=function(e){var t=e.statistics;return r.default.createElement("div",{className:o},r.default.createElement(l.PieChartDefs,null),r.default.createElement(l.PieChart,{title:"_.count",slices:[{label:"_.quotations",value:t.quotationsCount},{label:"_.invoices",value:t.invoicesCount}]},r.default.createElement(u.FormatNumber,{wrapperProps:{style:{fontSize:"3rem"}},value:t.quotationsCount+t.invoicesCount})),r.default.createElement(l.PieChart,{title:"_.amount",type:"currency",slices:[{label:"_.quotations",value:t.quotationsTotal},{label:"_.invoices.left",value:t.invoicesTotalLeft},{label:"_.invoices.paid",value:t.invoicesTotalPaid}]},r.default.createElement(u.Amount,{value:t.quotationsTotal+t.invoicesTotal})))};var r=n(a(0)),l=a(223),u=a(26);a(391);var o="home-charts"},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=a(6),o=(a(12),a(3)),i=a(9),c=r(a(19)),d=n(a(35)),s=n(a(25)),f=n(a(31)),m=a(23),v=a(27),p=a(32),h=a(80),g=a(68),E=a(224);var y=(0,u.connect)(function(e){return{statistics:e.account.get("statistics")}})((0,c.default)({Component:function(e){var t=e.statistics,a=(e.quotationsReadyToInvoice,e.invoices,{id:"page.home"});return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,a,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e))}),l.default.createElement(m.NavSecondary,{title:l.default.createElement(o.FormattedMessage,a)},l.default.createElement(v.ButtonNew,{type:"quotations",message:"quotation.button.new"})),l.default.createElement(p.Main,null,l.default.createElement(p.Content,null,l.default.createElement(E.HomeCharts,{statistics:t}),l.default.createElement(g.ActiveQuotations,{title:"page.quotations"}),l.default.createElement(g.QuotationsReadyToInvoice,null),l.default.createElement(h.ActiveInvoices,{title:"page.invoices"}))))},actionCreators:[s.listActive,s.listReadyToInvoice,f.listActive,d.statistics]}));t.default=y},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Thead=function(e){var t=e.columns,a=e.hideColumns,n=e.handleSort,r=e.sort,l=e.dir;return u.default.createElement("thead",{className:d},u.default.createElement("tr",{className:"".concat(d,"_row")},t.map(function(e,t){return a.includes(e.id)?null:u.default.createElement(s,{key:t,column:e,isSorted:e.sort&&r===e.sort,dir:l,onClick:e.sort?function(t){return n(t,e.sort)}:null})})))};var r=n(a(21)),l=n(a(13)),u=n(a(0)),o=n(a(40)),i=a(3),c=(a(12),a(70)),d="table__head";function s(e){var t=e.column,a=e.onClick,n=e.isSorted,s=e.dir,f=t.label,m=(t.sort,t.type),v=(0,l.default)(t,["label","sort","type"]),p=m||"text",h=(0,o.default)("".concat(d,"_col"),p.split(" ").map(function(e){return"".concat(d,"_col--is-").concat(e)}));return u.default.createElement("th",(0,r.default)({onClick:a,className:h},v),n&&u.default.createElement(c.Icon,{svgId:"ASC"===s?"arrow-upward":"arrow-downward"}),f&&u.default.createElement(i.FormattedMessage,{id:f.trim()}))}},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=function(e){var t=e.meta,a=e.handlePrev,n=e.handleNext,l=(0,u.default)(d,"".concat(d,"--prev"),!t.previousPage&&"".concat(d,"--disabled")),f=(0,u.default)(d,"".concat(d,"--next"),!t.nextPage&&"".concat(d,"--disabled")),m=s.merge(null,t);return r.default.createElement("footer",{className:"".concat(c)},r.default.createElement("div",{className:"".concat(c,"_rows")},r.default.createElement(o.FormattedMessage,{id:"table.rows-per-page"}),r.default.createElement("span",{className:"".concat(c,"_rows-per-page")},t.limit)),r.default.createElement(o.FormattedMessage,{id:"table.pagination",values:m}),r.default.createElement("div",{className:"".concat(c,"_actions")},r.default.createElement("div",{onClick:a,className:l},r.default.createElement(i.Icon,{svgId:"chevron-left"})),r.default.createElement("div",{onClick:n,className:f},r.default.createElement(i.Icon,{svgId:"chevron-right"}))))};var r=n(a(0)),l=n(a(22)),u=n(a(40)),o=a(3),i=a(70),c="table__pagination",d="".concat(c,"_action"),s=(0,l.default)({start:"-",end:"-",total:"-"})},,,,,,function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.formData,a=t.quotationConfig,n=t.invoiceConfig,r=t.productConfig,E={type:"quotation",product:{updatedAt:(new Date).toUTCString(),reference:"".concat(a.prefix).concat(a.startAt)}},C={type:"invoice",product:{updatedAt:(new Date).toUTCString(),reference:"".concat(n.prefix).concat(n.startAt)}},_=(0,o.default)({products:[{checked:!0,description:"a __product__ example",quantity:2,price:r.price},(0,l.default)({checked:!0},r)],tax:a.tax});return _=_.merge(null,c.totals(_)),u.default.createElement(s.Wrapper,null,u.default.createElement(s.List,null,u.default.createElement(s.Tab,null,u.default.createElement(i.FormattedMessage,{id:"configuration.tab.from"})),u.default.createElement(s.Tab,null,u.default.createElement(i.FormattedMessage,{id:"configuration.tab.default-product"})),u.default.createElement(s.Tab,null,u.default.createElement(i.FormattedMessage,{id:"configuration.tab.mentions"})),u.default.createElement(s.Tab,null,u.default.createElement(i.FormattedMessage,{id:"configuration.tab.reference"}))),u.default.createElement(s.Panel,null,u.default.createElement("div",{className:"".concat(g,"__user")},u.default.createElement(f.Select,{name:"lang",label:"field.language",value:t.lang,options:b}),u.default.createElement(f.Select,{name:"currency",label:"field.currency",value:t.currency,options:y}),u.default.createElement(d.Sheet,{part:"top-left"},u.default.createElement(d.Party,{title:"from",people:t})),u.default.createElement("div",{className:"".concat(g,"__user-form")},u.default.createElement(f.Input,{name:"name",label:"field.name",value:t.name}),u.default.createElement(f.Textarea,{name:"address",label:"field.address",value:t.address})))),u.default.createElement(s.Panel,null,u.default.createElement("div",{className:"".concat(g,"__product")},u.default.createElement("div",{className:"".concat(g,"__product-form")},u.default.createElement(f.Input,{name:"productConfig[quantity]",label:"field.quantity",type:"number",value:r.quantity}),u.default.createElement(f.Input,{name:"productConfig[price]",label:"field.default-price",type:"number",value:r.price}),u.default.createElement(f.Input,{name:"quotationConfig[tax]",label:"field.tax",type:"number",value:a.tax})),u.default.createElement(h.ProductTable,{readOnly:!0,document:_}))),u.default.createElement(s.Panel,null,u.default.createElement("div",{className:"".concat(g,"__mentions")},u.default.createElement(f.Textarea,{name:"quotationConfig[mentions]",label:"configuration.mentions.quotations",value:a.mentions}),u.default.createElement(d.Sheet,{part:"bottom"},u.default.createElement(d.Mentions,{content:a.mentions})),u.default.createElement(f.Textarea,{name:"invoiceConfig[mentions]",label:"configuration.mentions.invoices",value:n.mentions}),u.default.createElement(d.Sheet,{part:"bottom"},u.default.createElement(d.Mentions,{content:n.mentions})))),u.default.createElement(s.Panel,null,u.default.createElement(m.Alert,{danger:!0},u.default.createElement(i.FormattedHTMLMessage,{id:"configuration.reference.warning"})),u.default.createElement("div",{className:"".concat(g,"__references")},u.default.createElement("dl",{className:"".concat(g,"__references-section")},u.default.createElement("dt",{className:"".concat(g,"__sub-title")},u.default.createElement(i.FormattedMessage,{id:"page.quotations"})),u.default.createElement("dd",{className:"".concat(g,"__references-content")},u.default.createElement("div",{className:"".concat(g,"__references-form")},u.default.createElement(f.Input,{name:"quotationConfig[prefix]",label:"field.prefix",value:a.prefix}),u.default.createElement(f.Input,{name:"quotationConfig[startAt]",label:"field.start-at",value:a.startAt,type:"number",min:"0",step:"1"})),u.default.createElement(d.Sheet,{part:"top-right"},u.default.createElement(d.Reference,E)))),u.default.createElement("dl",{className:"".concat(g,"__references-section")},u.default.createElement("dt",{className:"".concat(g,"__sub-title")},u.default.createElement(i.FormattedMessage,{id:"page.invoices"})),u.default.createElement("dd",{className:"".concat(g,"__references-content")},u.default.createElement("div",{className:"".concat(g,"__references-form")},u.default.createElement(f.Input,{name:"invoiceConfig[prefix]",label:"field.prefix",value:n.prefix}),u.default.createElement(f.Input,{name:"invoiceConfig[startAt]",label:"field.start-at",value:n.startAt,type:"number",min:"0",step:"1"})),u.default.createElement(d.Sheet,{part:"top-right"},u.default.createElement(d.Reference,C)))))),u.default.createElement(p.FormActions,null,u.default.createElement(v.Button,{type:"submit"},u.default.createElement(i.FormattedMessage,{id:"configuration.button.save"}))))},t.FORM_ID=t.BASE_CLASS=void 0;var l=r(a(36)),u=r(a(0)),o=r(a(22)),i=n(a(3)),c=n(a(82)),d=n(a(69)),s=n(a(81)),f=n(a(39)),m=a(103),v=a(24),p=a(33),h=a(102);a(399);var g="setting-form";t.BASE_CLASS=g;var E=g;t.FORM_ID=E;var y=[{value:"USD",label:"USD"},{value:"EUR",label:"EUR"}],b=[{value:"fr",label:"franÃ§ais"},{value:"en",label:"english"}]},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FORM_ID=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(20)),s=r(a(0)),f=a(8),m=a(6),v=(a(12),r(a(41))),p=n(a(35)),h=a(104),g=a(33),E=r(a(233));t.FORM_ID="setting-form";var y=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).state={formData:a.props.user},a.handleSubmit=a.handleSubmit.bind((0,d.default)((0,d.default)(a))),a.handleFormChange=a.handleFormChange.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=(0,v.default)(e.target,{hash:!0,empty:!0});this.props.updateSettings({body:t})}},{key:"handleFormChange",value:function(e){var t=(0,h.getInputValue)(e.target),a=t.name,n=t.value;this.setState(function(e){return{formData:e.formData.set(a,n)}})}},{key:"render",value:function(){var e=this.state.formData,t=this.props.isSaving,a={formData:e};return s.default.createElement(g.Form,{id:"".concat("setting-form"),action:"/account/settings",isSaving:t,onChange:this.handleFormChange,onSubmit:this.handleSubmit},s.default.createElement("input",{type:"hidden",name:"id",value:e.get("id")}),s.default.createElement("input",{type:"hidden",name:"quotationConfig[id]",value:e.get("quotationConfig.id")}),s.default.createElement("input",{type:"hidden",name:"invoiceConfig[id]",value:e.get("invoiceConfig.id")}),s.default.createElement("input",{type:"hidden",name:"productConfig[id]",value:e.get("productConfig.id")}),s.default.createElement(E.default,a))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.formData,n=e.user;return e.isSaving?null:a===n?null:{formData:n}}}]),(0,u.default)(t,e),t}(s.default.Component);var b=(0,m.connect)(function(e){return{user:e.account.get("user"),isSaving:e.account.get("isSaving")}},function(e){return(0,f.bindActionCreators)({updateSettings:p.updateSettings},e)})(y);t.default=b},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=(a(8),a(6)),o=a(3),i=a(9),c=r(a(19)),d=(n(a(34)),r(a(23))),s=a(27),f=n(a(234));var m=(0,u.connect)(function(e){return{isSaving:e.account.get("isSaving")}})((0,c.default)({Component:function(e){var t={id:"page.settings"};return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.FormattedMessage,t,function(e){return l.default.createElement(i.Helmet,null,l.default.createElement("title",null,e))}),l.default.createElement(d.default,{title:l.default.createElement(o.FormattedMessage,t)},l.default.createElement(s.ButtonSubmit,{formId:f.FORM_ID,isSaving:e.isSaving,label:"configuration.button.save"})),l.default.createElement(f.default,e))},actionCreators:[]}));t.default=m},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(20)),s=r(a(0)),f=r(a(41)),m=a(8),v=a(6),p=r(a(106)),h=a(3),g=a(9),E=r(a(19)),y=n(a(35)),b=r(a(51)),C=r(a(33)),_=a(24),S=a(39),w=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).handleSubmit=a.handleSubmit.bind((0,d.default)((0,d.default)(a))),a.state={token:p.default.parse(e.location.search).token},a}return(0,o.default)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=(0,f.default)(e.target,{hash:!0});this.props.reset({body:t})}},{key:"render",value:function(){this.props;var e=this.state,t={id:"account.reset.title"};return s.default.createElement(s.default.Fragment,null,s.default.createElement(h.FormattedMessage,t,function(e){return s.default.createElement(g.Helmet,null,s.default.createElement("title",null,e))}),s.default.createElement(b.default,{title:s.default.createElement(h.FormattedMessage,t)},s.default.createElement(C.default,{id:"login",action:"/account/reset",onSubmit:this.handleSubmit},s.default.createElement("p",null,s.default.createElement(h.FormattedMessage,{id:"account.reset.notice",defaultValue:"Set your new password here"})),s.default.createElement("input",{type:"hidden",name:"token",defaultValue:e.token}),s.default.createElement(S.Input,{name:"password",type:"password",label:"field.password",defaultValue:""}),s.default.createElement(_.Button,{type:"submit"},s.default.createElement(h.FormattedMessage,{id:"account.reset.button",defaultValue:"reset password"})))))}}]),(0,u.default)(t,e),t}(s.default.PureComponent);var k=(0,v.connect)(null,function(e){return(0,m.bindActionCreators)({reset:y.reset},e)})((0,E.default)({Component:w,actionCreators:[]}));t.default=k},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(20)),s=r(a(107)),f=r(a(0)),m=r(a(41)),v=a(8),p=a(6),h=a(3),g=a(9),E=r(a(58)),y=r(a(19)),b=n(a(35)),C=r(a(51)),_=r(a(33)),S=a(24),w=a(39),k=(0,s.default)(E.default.HOST_URL,"/account/reset"),P=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).handleSubmit=a.handleSubmit.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=(0,m.default)(e.target,{hash:!0});this.props.forgot({body:t})}},{key:"render",value:function(){this.props;var e={id:"account.forgot.title"};return f.default.createElement(f.default.Fragment,null,f.default.createElement(h.FormattedMessage,e,function(e){return f.default.createElement(g.Helmet,null,f.default.createElement("title",null,e))}),f.default.createElement(C.default,{title:f.default.createElement(h.FormattedMessage,e)},f.default.createElement(_.default,{id:"forgot",action:"/account/forgot",onSubmit:this.handleSubmit},f.default.createElement("p",null,f.default.createElement(h.FormattedMessage,{id:"account.forgot.notice"})),f.default.createElement("input",{type:"hidden",name:"redirectUrl",value:k}),f.default.createElement(w.Input,{name:"email",label:"field.email",type:"email",defaultValue:""}),f.default.createElement(S.Button,{type:"submit"},f.default.createElement(h.FormattedMessage,{id:"account.forgot.button"})))))}}]),(0,u.default)(t,e),t}(f.default.PureComponent);var A=(0,p.connect)(null,function(e){return(0,v.bindActionCreators)({forgot:b.forgot},e)})((0,y.default)({Component:P,actionCreators:[]}));t.default=A},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(20)),s=r(a(0)),f=r(a(41)),m=a(8),v=a(6),p=r(a(106)),h=a(3),g=a(9),E=r(a(19)),y=n(a(35)),b=r(a(51)),C=r(a(33)),_=a(24),S=a(39),w=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).handleSubmit=a.handleSubmit.bind((0,d.default)((0,d.default)(a))),a.state={token:p.default.parse(e.location.search).token},a}return(0,o.default)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=(0,f.default)(e.target,{hash:!0});this.props.setPassword({body:t})}},{key:"render",value:function(){this.props;var e=this.state,t={id:"account.set-password.title"};return s.default.createElement(s.default.Fragment,null,s.default.createElement(h.FormattedMessage,t,function(e){return s.default.createElement(g.Helmet,null,s.default.createElement("title",null,e))}),s.default.createElement(b.default,{title:s.default.createElement(h.FormattedMessage,t)},s.default.createElement(C.default,{id:"new-password",action:"/account/reset",onSubmit:this.handleSubmit},s.default.createElement("p",null,s.default.createElement(h.FormattedMessage,{id:"account.reset.notice"})),s.default.createElement("input",{type:"hidden",name:"token",defaultValue:e.token}),s.default.createElement(S.Input,{name:"password",type:"password",label:"field.password",defaultValue:""}),s.default.createElement(_.Button,{type:"submit"},s.default.createElement(h.FormattedMessage,{id:"account.set-password.button"})))))}}]),(0,u.default)(t,e),t}(s.default.PureComponent);var k=(0,v.connect)(null,function(e){return(0,m.bindActionCreators)({setPassword:y.setPassword},e)})((0,E.default)({Component:w,actionCreators:[]}));t.default=k},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(20)),s=r(a(107)),f=r(a(0)),m=r(a(41)),v=a(8),p=a(6),h=a(3),g=a(9),E=r(a(58)),y=r(a(19)),b=n(a(35)),C=r(a(51)),_=r(a(33)),S=a(24),w=a(39),k=(0,s.default)(E.default.HOST_URL,"/account/set-password"),P=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).handleSubmit=a.handleSubmit.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=(0,m.default)(e.target,{hash:!0});this.props.register({body:t})}},{key:"render",value:function(){this.props;var e={id:"account.register.title"};return f.default.createElement(f.default.Fragment,null,f.default.createElement(h.FormattedMessage,e,function(e){return f.default.createElement(g.Helmet,null,f.default.createElement("title",null,e))}),f.default.createElement(C.default,{title:f.default.createElement(h.FormattedMessage,e)},f.default.createElement(_.default,{action:"/account/register",onSubmit:this.handleSubmit},f.default.createElement("p",null,f.default.createElement(h.FormattedMessage,{id:"account.register.notice"})),f.default.createElement("input",{type:"hidden",name:"redirectUrl",value:k}),f.default.createElement(w.Input,{name:"email",label:"field.email",type:"email",defaultValue:""}),f.default.createElement(S.Button,{type:"submit"},f.default.createElement(h.FormattedMessage,{id:"account.register.button",defaultValue:"Create"})))))}}]),(0,u.default)(t,e),t}(f.default.PureComponent);var A=(0,p.connect)(null,function(e){return(0,v.bindActionCreators)({register:b.register},e)})((0,y.default)({Component:P,actionCreators:[]}));t.default=A},,,,,function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(20)),s=r(a(0)),f=r(a(41)),m=a(8),v=a(6),p=a(3),h=a(9),g=r(a(19)),E=n(a(35)),y=r(a(51)),b=r(a(33)),C=a(24),_=a(39),S=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).handleSubmit=a.handleSubmit.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=(0,f.default)(e.target,{hash:!0});this.props.login({body:t})}},{key:"render",value:function(){this.props;var e={id:"account.login.title"};return s.default.createElement(s.default.Fragment,null,s.default.createElement(p.FormattedMessage,e,function(e){return s.default.createElement(h.Helmet,null,s.default.createElement("title",null,e))}),s.default.createElement(y.default,{title:s.default.createElement(p.FormattedMessage,e)},s.default.createElement(b.default,{id:"login",action:"/account/login",onSubmit:this.handleSubmit},s.default.createElement(_.Input,{name:"email",label:"field.email",type:"email",defaultValue:""}),s.default.createElement(_.Input,{name:"password",label:"field.password",type:"password",defaultValue:""}),s.default.createElement(C.Button,{type:"submit"},s.default.createElement(p.FormattedMessage,{id:"account.login.button",defaultMessage:"Connect"})))))}}]),(0,u.default)(t,e),t}(s.default.PureComponent);var w=(0,v.connect)(null,function(e){return(0,m.bindActionCreators)({login:E.login},e)})((0,g.default)({Component:S,actionCreators:[]}));t.default=w},,,,,,,,,,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(13)),l=n(a(18)),u=n(a(17)),o=n(a(16)),i=n(a(15)),c=n(a(14)),d=n(a(20)),s=n(a(0)),f=a(3);a(428);var m=function(e){function t(e){var a;(0,l.default)(this,t);var n=(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).props.notification.error?"error":"information";return a.state={type:n},a.autoRemove=a.autoRemove.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props;e.notification,e.handleRemove;this.timerId=setTimeout(this.autoRemove,5e3)}},{key:"componentWillUnmount",value:function(){this.timerId&&clearTimeout(this.timerId),this.timerId=!1}},{key:"autoRemove",value:function(){var e=this.props,t=e.notification;(0,e.handleRemove)(t)}},{key:"render",value:function(){var e=this.props,t=e.notification,a=e.handleRemove,n=t.i18nId,l=(t._id,t.additionalContent),u=(0,r.default)(t,["i18nId","_id","additionalContent"]),o=this.state.type;return s.default.createElement("div",{onClick:function(e){return a(t)},className:"".concat("notification"," ").concat("notification","--").concat(o)},s.default.createElement("h4",{className:"".concat("notification","__title")},s.default.createElement(f.FormattedMessage,{id:n,values:u})),l&&s.default.createElement("div",{className:"".concat("notification","__content")},l))}}]),(0,u.default)(t,e),t}(s.default.PureComponent);t.default=m},function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),u=a(8),o=a(6),i=r(a(255)),c=n(a(149));a(426);var d="notifications";var s=(0,o.connect)(function(e){var t=e.notifications;return{hasNotifications:Array.isArray(t)&&t.length>0,notifications:t}},function(e){return(0,u.bindActionCreators)({handleRemove:c.removeOne},e)})(function(e){var t=e.notifications;return e.hasNotifications?l.default.createElement("aside",{className:d},t.map(function(t){return l.default.createElement(i.default,{key:t._id,handleRemove:e.handleRemove,notification:t})})):null});t.default=s},,,,,,,,function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.post=t.get=void 0;var r=n(a(50)),l=n(a(263)),u=n(a(49));a(261);var o=n(a(108)),i=n(a(57)),c=n(a(107)),d=n(a(259)),s=n(a(106)),f=n(a(58)),m={credentials:"include",headers:{}};function v(e){var t=(0,o.default)({},m,{method:e.toUpperCase()});return"post"===e&&(t.headers["Content-Type"]="application/json"),function(){var a=(0,u.default)(r.default.mark(function a(n){var u,m,v,p,h,g,E,y,b,C=arguments;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u=C.length>1&&void 0!==C[1]&&C[1],m=n.url,v=n.body,p=n.query,"post"===e&&(t.body=(0,l.default)(v)),u||(u=d.default.get(f.default.COOKIE_NAME)),t.headers.Authorization="Bearer ".concat(u),h=(0,c.default)(f.default.API_URL,m),p&&(h=(0,c.default)(h,"?".concat(s.default.stringify(p)))),a.prev=7,a.next=10,fetch(h,t);case 10:return g=a.sent,a.next=13,g.json();case 13:return E=a.sent,g.ok||(0,o.default)(E,{error:!0,status:g.status,statusText:g.statusText}),y=E.access_token,(0,i.default)(y)||(d.default.set(f.default.COOKIE_NAME,y),delete E.access_token),a.abrupt("return",{response:g,payload:E});case 19:return a.prev=19,a.t0=a.catch(7),b=(0,o.default)({error:!0,status:500,statusText:a.t0.message},a.t0),a.abrupt("return",{payload:b});case 23:case"end":return a.stop()}},a,this,[[7,19]])}));return function(e){return a.apply(this,arguments)}}()}var p=v("get");t.get=p;var h=v("post");t.post=h},,,,,,,,,,,,,function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(20)),s=r(a(0)),f=a(12),m=a(8),v=a(6),p=a(3),h=n(a(35));a(430);var g="nav-main",E="".concat(g,"__item"),y="is-active",b=function(e){function t(e){var a;return(0,l.default)(this,t),(a=(0,i.default)(this,(0,c.default)(t).call(this,e))).logout=a.logout.bind((0,d.default)((0,d.default)(a))),a}return(0,o.default)(t,[{key:"logout",value:function(e){e.preventDefault(),this.props.logout({})}},{key:"render",value:function(){return s.default.createElement("a",{href:"/account/logout",onClick:this.logout},s.default.createElement(p.FormattedMessage,{id:"page.logout"}))}}]),(0,u.default)(t,e),t}(s.default.PureComponent);function C(e){return s.default.createElement(s.default.Fragment,null,s.default.createElement("li",{className:E},s.default.createElement(f.NavLink,{to:"/",exact:!0,activeClassName:y},s.default.createElement(p.FormattedMessage,{id:"page.home"}))),s.default.createElement("li",{className:E},s.default.createElement(f.NavLink,{to:"/quotations",activeClassName:y},s.default.createElement(p.FormattedMessage,{id:"page.quotations"}))),s.default.createElement("li",{className:E},s.default.createElement(f.NavLink,{to:"/invoices",activeClassName:y},s.default.createElement(p.FormattedMessage,{id:"page.invoices"}))),s.default.createElement("li",{className:E},s.default.createElement(f.NavLink,{to:"/customers",activeClassName:y},s.default.createElement(p.FormattedMessage,{id:"page.customers"}))),s.default.createElement("li",{className:E},s.default.createElement(f.NavLink,{to:"/archives",activeClassName:y},s.default.createElement(p.FormattedMessage,{id:"page.archived"}))),s.default.createElement("li",{className:E},s.default.createElement(f.NavLink,{to:"/account/settings",activeClassName:y},s.default.createElement(p.FormattedMessage,{id:"page.settings"}))),s.default.createElement("li",{className:"".concat(E," ").concat(E,"--separator")},s.default.createElement(p.FormattedHTMLMessage,{id:"page.connected",values:{email:e.email}})),s.default.createElement("li",{className:E},s.default.createElement(b,{logout:e.logout})))}function _(e){return s.default.createElement(s.default.Fragment,null,s.default.createElement("li",{className:"nav-main__item"},s.default.createElement(f.NavLink,{to:"/account/login",activeClassName:y},s.default.createElement(p.FormattedMessage,{id:"page.login"}))),s.default.createElement("li",{className:"nav-main__item"},s.default.createElement(f.NavLink,{to:"/account/register",activeClassName:y},s.default.createElement(p.FormattedMessage,{id:"page.register"}))),s.default.createElement("li",{className:"nav-main__item"},s.default.createElement(f.NavLink,{to:"/account/forgot",activeClassName:y},s.default.createElement(p.FormattedMessage,{id:"page.forgot"}))))}var S=(0,f.withRouter)((0,v.connect)(function(e){return{isAuthenticated:e.account.get("isAuthenticated"),email:e.account.get("user.email")}},function(e){return(0,m.bindActionCreators)({logout:h.logout},e)})(function(e){var t=e.isAuthenticated;return s.default.createElement("nav",{className:g},s.default.createElement("ul",{className:"".concat(g,"__in")},t?s.default.createElement(C,e):s.default.createElement(_,e)))}));t.default=S},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(18)),l=n(a(17)),u=n(a(16)),o=n(a(15)),i=n(a(14)),c=n(a(0)),d=n(a(51)),s=a(3);var f=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,o.default)(this,(0,i.default)(t).call(this,e))).state={error:null,errorInfo:null},a}return(0,u.default)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.state;e.errorInfo,e.error;return this.state.errorInfo?c.default.createElement(d.default,{title:c.default.createElement(s.FormattedMessage,{id:"page.error"})},c.default.createElement(s.FormattedMessage,{id:"page.error.production-hint"}),!1):this.props.children}}]),(0,l.default)(t,e),t}(c.default.PureComponent);t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"_.quotations":"devis","_.invoices":"factures","_.amount":"montant","_.invoices.paid":"payÃ©","_.invoices.left":"Ã  payer","_.count":"nombre","_.left-to-pay":"reste Ã  payer","_.archive":"archiver","_.save":"sauver","_.create":"crÃ©er","_.print":"imprimer","_.edit":"modifier","_.print-notice":"Dans le navigateur Firefox, n'oubliez pas de cocher la case <b>Imprimer la couleur d'arriÃ¨re-plan</b>","account.login.title":"connexion","account.login.button":"se connecter","account.register.title":"CrÃ©er un compte","account.register.button":"crÃ©er","account.register.notice":"AprÃ¨s l'envoie du formulaire', vous recevrez par email un lien de confirmation pour dÃ©finir votre mot de passe","account.forgot.title":"Mot de passe oubliÃ© ?","account.forgot.notice":"AprÃ¨s avoir validÃ©, vous recevrez par email un lien de rÃ©initialisation","account.forgot.button":"Envoyer le lien","account.reset.title":"RÃ©initialisation du mot de passe","account.reset.notice":"Veuillez rentrer votre nouveau mot de passe","account.reset.button":"RÃ©initialiser","account.set-password.title":"DÃ©finition du mot de passe","account.set-password.button":"DÃ©finir le mot de passe","configuration.tab.from":"Ã‰metteur","configuration.tab.default-product":"Produit par dÃ©faut","configuration.tab.mentions":"Bas de page","configuration.tab.reference":"RÃ©fÃ©rence","configuration.mentions.quotations":"Pour les devis","configuration.mentions.invoices":"Pour les factures","configuration.button.save":"Mettre Ã  jour","configuration.reference.warning":"\n    Changer <strong>le chiffre de dÃ©but</strong> renumÃ©rotera toutes les rÃ©fÃ©rences du type concernÃ©.\n    <br />\n    Soyez prudent !","customer.button.create":"CrÃ©er le client","customer.button.update":"Mettre Ã  jour","customer.button.new":"nouveau client","customer.button.list":"list des clients","invoices.button.archive":"archiver","customer.tab.configuration":"Ã‰dition l'entÃªte","customer.total.quotation":"total devis","customer.total.invoice":"total factures","customer.total.to-be-paid":"reste Ã  payer","customer.total.progress":"progression","field.email":"email","field.password":"mot de passe","field.name":"nom","field.address":"adresse","field.customer":"client","field.tax":"taxe","field.subject":"objet","field.description":"description","field.quantity":"quantitÃ©","field.currency":"devise","field.prefix":"prÃ©fixe","field.start-at":"commence Ã ","field.language":"langue","field.default-price":"prix par dÃ©faut","invoices.tab.payments":"Paiements","invoices.tab.preview":"AperÃ§u de la facture","invoices.button.save":"Mettre Ã  jour","invoices.button.quotation":"Voir le devis","invoices.button.preview":"prÃ©visualiser la facture","invoices.button.list":"liste des devis","invoices.event":"Ã©vÃ¨nement","invoices.event.#":"nËš","invoices.event.description":"description","invoices.event.payment":"paiement","invoices.event.date":"date","invoices.event.amount":"montant","invoices.event.sent":"envoyÃ©","key-pres.customer":"client","key-pres.sent":"envoyÃ© le","key-pres.validated":"validÃ© le","key-pres.signed":"signÃ© le","key-pres.total":"total","key-pres.associated.quote":"devis associÃ©","key-pres.associated.invoice":"facture associÃ©e","key-pres.left-to-pay":"reste Ã  payer","notifications.user.welcome":"Bienvenue {name}","notifications.user.mail-sent":"Un email a Ã©tÃ© envoyÃ© Ã  {email}","notifications.quotation.saved":"Le devis a Ã©tÃ© sauvegardÃ©","notifications.quotation.error":"Une erreur est survenue lors de la sauvegarde","notifications.quotation.create-invoice.success":"Facture crÃ©Ã©e","notifications.quotation.create-invoice.error":"Une erreur est survenue lors de la crÃ©ation de la facture","notifications.invoice.saved":"La facture a Ã©tÃ© sauvegardÃ©","notifications.invoice.error":"Une erreur est survenue lors de la sauvegarde","notifications.customer.saved":"Le client a Ã©tÃ© sauvegardÃ©","notifications.generic.saved":"enregistrement effectuÃ©","notifications.generic.error":"â€¢ une erreur est survenue â€¢","page.home":"accueil","page.quotations":"devis","page.quotations.new":"nouveau devis","page.quotations.edit":"devis â€“ {reference}","page.quotations.preview":"devis â€“ {reference}","page.invoices":"factures","page.invoices.edit":"facture â€“Â {reference}","page.invoices.preview":"facture â€“ {reference}","page.customers":"clients","page.customers.new":"nouveau client","page.customers.edit":"client : {name}","page.settings":"configuration","page.connected":"connectÃ© en tant que :<br/>{email}","page.logout":"dÃ©connexion","page.login":"connexion","page.register":"enregistrement","page.forgot":"mot de passe oubliÃ©","page.error":"Une erreur est survenue","page.error.production-hint":"essayez de recharger la page","page.archived":"archives","paper-sheet.reference.quotation":"Devis","paper-sheet.reference.invoice":"Facture","paper-sheet.reference.date":"date : ","paper-sheet.party.from":"Ã‰metteur :","paper-sheet.party.to":"AdressÃ© Ã  :","paper-sheet.party.no-name.from":"dÃ©finissez votre nom dans les rÃ©glages","paper-sheet.party.no-address.from":"dÃ©finissez votre adresse dans les rÃ©glages","paper-sheet.party.no-name.to":"client sans nom","paper-sheet.party.no-address.to":"client sans adresse","paper-sheet.subject":"Objet :","product.place-holder":"tapez pour crÃ©er une nouvelle ligne","quotation.create":"crÃ©er","quotation.ready-to-invoice":"Devis prÃªts pour facturation","quotation.invoice.create":"crÃ©er la facture","quotation.invoice.show":"voir la facture","quotation.button.create":"CrÃ©er le devis","quotation.button.update":"Mettre Ã  jour le devis","quotation.button.archive":"Archiver","quotation.button.new":"Nouveau devis","quotation.button.list":"liste des devis","quotation.button.preview":"prÃ©visualiser le devis","spinner.loading":"chargementâ€¦","stepper.sent":"envoyÃ© le :","stepper.validated":"validÃ© le :","stepper.signed":"signÃ© le :","stepper.customer":"client :","stepper.total":"total :","table.header.id":"#","table.header.name":"nom","table.header.customer":"client","table.header.status":"statut","table.header.tax":"taxe","table.header.quotation":"devis","table.header.quotation-associated":"devis associÃ©","table.header.quotations":"devis","table.header.invoice":"facture","table.header.invoices":"factures","table.header.description":"description","table.header.quantity":"quantitÃ©","table.header.unit-price":"prix unitaire","table.header.sent":"envoyÃ©","table.header.validated":"validÃ©","table.header.signed":"signÃ©","table.header.cumulative-amount":"montant cumulÃ©","table.amount-ht":"montant HT","table.amount-taxes":"taxes","table.amount":"total","table.amount.paid":"payÃ©","table.amount.left-to-pay":"reste","table.empty":"vide (pour l'instant)","table.pagination":"{start} â€“ {end} sur {total}","table.rows-per-page":"lignes par page :"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"_.quotations":"quotations","_.invoices":"invoices","_.invoices.paid":"paid","_.invoices.left":"left","_.amount":"amount","_.count":"count","_.left-to-pay":"left to be paid","_.archive":"archive","_.save":"save","_.create":"create","_.print":"print","_.edit":"edit","_.print-notice":"In Firefox browser, don't forget to check the <b>Print Background Color</b> checkbox","account.login.title":"login","account.login.button":"connect","account.register.title":"register","account.register.notice":"After submitting, you will receive by email a confirmation link to set your password","account.register.button":"create and account","account.forgot.title":"Forgotten password?","account.forgot.notice":"After submitting, you will receive by email a reset link","account.forgot.button":"Send the link","account.reset.title":"Password reset","account.reset.notice":"Please set your new password","account.reset.button":"Reset","account.set-password.title":"Setup your password","account.set-password.button":"Set password","configuration.tab.from":"from","configuration.tab.default-product":"Default product","configuration.tab.mentions":"Footer mentions","configuration.tab.reference":"Reference","configuration.mentions.quotations":"For the quotations","configuration.mentions.invoices":"For the invoices","configuration.button.save":"Update","configuration.reference.warning":"\n    Changing <strong>the starting number</strong> will renumber all references of the type concerned.\n    <br />\n    Be cautious!","customer.button.create":"Create a customer","customer.button.update":"update","customer.button.new":"new customer","customer.button.list":"customer list","customer.tab.configuration":"configure header","customer.total.quotation":"quotation total","customer.total.invoice":"invoice total","customer.total.to-be-paid":"to be paid","customer.total.progress":"progress","field.email":"email","field.password":"password","field.name":"name","field.address":"address","field.customer":"customer","field.tax":"tax","field.subject":"subject","field.description":"description","field.quantity":"quantity","field.currency":"currency","field.prefix":"prefix","field.start-at":"start at","field.language":"language","field.default-price":"default price","invoices.tab.payments":"Payments","invoices.tab.preview":"Invoice Preview","invoices.button.save":"Update Invoice","invoices.button.quotation":"Show quotation","invoices.button.preview":"preview invoice","invoices.button.archive":"archive","invoices.event":"event","invoices.event.#":"#","invoices.event.description":"description","invoices.event.payment":"payment","invoices.event.date":"date","invoices.event.amount":"amount","invoices.event.sent":"sent","key-pres.customer":"customer","key-pres.sent":"sent at","key-pres.validated":"validated at","key-pres.signed":"signed at","key-pres.total":"total","key-pres.associated.quote":"associated quotation","key-pres.associated.invoice":"associated invoice","key-pres.left-to-pay":"left to pay","notifications.user.welcome":"Welcome {name}","notifications.user.mail-sent":"An email has been sent to {email}","notifications.quotation.saved":"The quotation has been saved","notifications.quotation.error":"An error occurred while backing up","notifications.quotation.create-invoice.success":"Invoice created","notifications.quotation.create-invoice.error":"An error as occurred while creating invoice","notifications.invoice.saved":"The invoice has been saved","notifications.invoice.error":"An error occurred while backing up","notifications.customer.saved":"The customer has been saved","notifications.generic.saved":"saved","notifications.generic.error":"â€¢ something went wrong â€¢","page.home":"home","page.quotations":"quotations","page.quotations.new":"new quotation","page.quotations.edit":"edit quotation â€“ {reference}","page.quotations.preview":"quotation â€“ {reference}","page.invoices":"invoices","page.invoices.edit":"edit invoice - {reference}","page.invoices.preview":"invoice â€“ {reference}","page.customers":"customers","page.customers.new":"new customer","page.customers.edit":"customer : {name}","page.settings":"settings","page.connected":"connected as:<br/>{email}","page.logout":"logout","page.login":"login","page.register":"register","page.forgot":"forgotten password","page.error":"something went wrong","page.error.production-hint":"try to reload the page","page.archived":"archives","paper-sheet.reference.quotation":"Quotation","paper-sheet.reference.invoice":"Invoice","paper-sheet.reference.date":"date: ","paper-sheet.party.from":"From:","paper-sheet.party.to":"To:","paper-sheet.party.no-name.from":"define your name in the settings","paper-sheet.party.no-address.from":"define your address in the settings","paper-sheet.party.no-name.to":"customer without name","paper-sheet.party.no-address.to":"customer without address","paper-sheet.subject":"Subject:","product.place-holder":"type to create a new line","quotation.create":"create","quotation.ready-to-invoice":"quote ready for invoicing","quotation.invoice.create":"create invoice","quotation.invoice.show":"show invoice","quotation.button.create":"Create quotation","quotation.button.update":"Update the quotation","quotation.button.archive":"Archive","quotation.button.new":"New quotation","quotation.button.list":"list quotations","quotation.button.preview":"preview quotation","spinner.loading":"loadingâ€¦","stepper.sent":"sent at:","stepper.validated":"validated at:","stepper.signed":"signed at:","stepper.customer":"customer:","stepper.total":"total:","table.header.id":"#","table.header.name":"name","table.header.customer":"customer","table.header.status":"status","table.header.tax":"tax","table.header.quotation":"quotation","table.header.quotation-associated":"associated quotation","table.header.quotations":"quotations","table.header.invoice":"invoice","table.header.invoices":"invoices","table.header.description":"description","table.header.quantity":"quantity","table.header.unit-price":"unit price","table.header.sent":"sent","table.header.validated":"validated","table.header.signed":"signed","table.header.cumulative-amount":"cumulative amount","table.amount-ht":"pre-tax amount","table.amount-taxes":"taxes","table.amount":"amount","table.amount.paid":"paid","table.amount.left-to-pay":"left","table.empty":"none (yet)","table.pagination":"{start} â€“ {end} of {total}","table.rows-per-page":"rows per page:"}},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"en",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"fr",{enumerable:!0,get:function(){return l.default}});var r=n(a(280)),l=n(a(279))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var n=a(5),r=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(18)),u=r(a(17)),o=r(a(16)),i=r(a(15)),c=r(a(14)),d=r(a(0)),s=a(136),f=a(3),m=a(6),v=a(9),p=r(a(58)),h=n(a(281)),g=r(a(278)),E=r(a(277)),y=r(a(256));a(424);var b=function(e){function t(e){return(0,l.default)(this,t),(0,i.default)(this,(0,c.default)(t).call(this,e))}return(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.route,a=e.lang;return d.default.createElement(f.IntlProvider,{locale:a,key:a,messages:h[a]},d.default.createElement(d.default.Fragment,null,d.default.createElement(v.Helmet,{defaultTitle:p.default.APP_NAME,titleTemplate:"".concat(p.default.APP_NAME," â€“ %s"),meta:[{"http-equiv":"Content-Language",content:a},{"http-equiv":"X-UA-Compatible",content:"IE=edge"},{name:"viewport",content:"width=device-width, initial-scale=1.0"}]},d.default.createElement("html",{lang:a}),d.default.createElement("link",{rel:"stylesheet",href:"/application-client.css"}),d.default.createElement("link",{rel:"icon",href:"/favicon.png",type:"image/png"})),d.default.createElement("h1",{className:"main-logo"},p.default.APP_NAME),d.default.createElement(E.default,null),d.default.createElement(g.default,null,(0,s.renderRoutes)(t.routes)),d.default.createElement(y.default,null)))}}]),(0,u.default)(t,e),t}(d.default.PureComponent);var C=(0,m.connect)(function(e){return{lang:e.account.get("user.lang")||"en"}})(b);t.default=C},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.authenticationForbidden=i,t.default=void 0;var r=n(a(0)),l=a(6),u=a(12),o="/";function i(e){function t(t){var a=t.staticContext;return t.isAuthenticated?(a&&(a.status=302,a.url=o),r.default.createElement(u.Redirect,{to:o})):r.default.createElement(e,t)}return e.fetchData&&(t.fetchData=e.fetchData),(0,l.connect)(function(e){return{isAuthenticated:e.account.get("isAuthenticated")}})(t)}var c=i;t.default=c},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.authenticationRequired=i,t.default=void 0;var r=n(a(0)),l=a(6),u=a(12),o="/account/login";function i(e){function t(t){var a=t.staticContext;return t.isAuthenticated?r.default.createElement(e,t):(a&&(a.status=302,a.url=o),r.default.createElement(u.Redirect,{to:o}))}return e.fetchData&&(t.fetchData=e.fetchData),(0,l.connect)(function(e){return{isAuthenticated:e.account.get("isAuthenticated")}})(t)}var c=i;t.default=c},function(e,t,a){"use strict";var n=a(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(313)),l=n(a(312)),u=n(a(311)),o=n(a(244)),i=n(a(239)),c=n(a(238)),d=n(a(237)),s=n(a(236)),f=n(a(235)),m=n(a(225)),v=n(a(221)),p=n(a(220)),h=n(a(219)),g=n(a(205)),E=n(a(204)),y=n(a(201)),b=n(a(200)),C=n(a(199)),_=n(a(198)),S=n(a(194)),w=n(a(193)),k=n(a(191)),P=n(a(190)),A=n(a(188)),N=[{component:u.default,routes:[{path:"/account/login",exact:!0,component:(0,l.default)(o.default)},{path:"/account/register",exact:!0,component:(0,l.default)(i.default)},{path:"/account/set-password",exact:!0,component:(0,l.default)(c.default)},{path:"/account/forgot",exact:!0,component:(0,l.default)(d.default)},{path:"/account/reset",exact:!0,component:(0,l.default)(s.default)},{path:"/",exact:!0,component:(0,r.default)(m.default)},{path:"/archives",exact:!0,component:(0,r.default)(v.default)},{path:"/archives/quotations/:id",exact:!0,component:(0,r.default)(p.default)},{path:"/archives/invoices/:id",exact:!0,component:(0,r.default)(h.default)},{path:"/account/settings",exact:!0,component:(0,r.default)(f.default)},{path:"/quotations",exact:!0,component:(0,r.default)(g.default)},{path:"/quotations/new",exact:!0,component:(0,r.default)(E.default)},{path:"/quotations/:id",exact:!0,component:(0,r.default)(y.default)},{path:"/quotations/:id/preview",exact:!0,component:(0,r.default)(b.default)},{path:"/invoices",exact:!0,component:(0,r.default)(C.default)},{path:"/invoices/:id",exact:!0,component:(0,r.default)(_.default)},{path:"/invoices/:id/preview",exact:!0,component:(0,r.default)(S.default)},{path:"/customers",exact:!0,component:(0,r.default)(w.default)},{path:"/customers/new",exact:!0,component:(0,r.default)(k.default)},{path:"/customers/:id",exact:!0,component:(0,r.default)(P.default)},{path:"*",component:A.default}]}];t.default=N},,,,,function(e,t){},,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var n=a(2),r=n(a(131)),l=n(a(362)),u=n(a(358)),o=n(a(0)),i=a(346),c=a(12),d=a(136),s=a(8),f=n(a(22)),m=a(6),v=n(a(334)),p=a(333),h=a(3),g=n(a(316)),E=n(a(315)),y=n(a(314)),b=n(a(187));(0,h.addLocaleData)((0,u.default)(g.default).concat((0,u.default)(E.default)));var C=window.__INITIAL_STATE__||{},_={};(0,l.default)(C).forEach(function(e){var t=(0,r.default)(e,2),a=t[0],n=t[1];return _[a]=(0,f.default)(n)});var S=[v.default],w=(0,s.createStore)(b.default,_,(0,p.composeWithDevTools)(s.applyMiddleware.apply(void 0,S))),k=document.getElementById("react-main-mount");(0,i.hydrate)(o.default.createElement(m.Provider,{store:w},o.default.createElement(c.BrowserRouter,null,(0,d.renderRoutes)(y.default))),k)},,,function(e,t){},,function(e,t){},,function(e,t){},,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,,,function(e,t){}]));